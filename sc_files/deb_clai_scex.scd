(
MIDIClient.init;
MIDIIn.connectAll;
//MIDIOut.connect[];

// Create task
t = Task({


	// Set attributes of each node
	// [freq, dur, [[next_state, weighted_random],ï¿½]]
	var node_list =[
[[97], 0.5 , 50 ,[[129,1]],[0.33]],
[[93], 0.5 , 51 ,[[62,1]],[2.05]],
[[92], 0.5 , 37.5 ,[[29,1],[74,1],[95,1],[103,2],[136,1]],[0.39,0.39,0.38,0.5,1,0.16]],
[[90], 0.5 , 48 ,[[19,1],[95,1]],[0.51,0.29]],
[[89], 0.5 , 41.5 ,[[52,1],[108,1]],[0.12,0.17]],
[[89,92], 0.5 , 38.5 ,[[123,1],[138,1]],[0.15,0.89]],
[[88], 0.5 , 40.6667 ,[[13,1],[84,1],[147,1]],[1,1.07,0.29]],
[[87], 0.5 , 51 ,[[15,1],[40,1],[116,1],[123,1]],[0.7,1.72,0.12,0.14]],
[[85], 0.5 , 43.2941 ,[[2,3],[17,1],[22,1],[45,1],[62,1],[92,2],[100,1],[101,2],[108,1],[132,2],[138,1],[144,1]],[0.39,0.39,0.38,0.53,0.29,1,1.97,0.31,0.53,1,0.33,0.33,0.74,0.14,0.29,0.17,0.15]],
[[85,89], 0.5 , 43.5 ,[[54,1],[84,1]],[0.15,0.14]],
[[85,88], 0.5 , 40 ,[[26,1]],[0.31]],
[[84], 0.5 , 56.5 ,[[16,1],[151,1]],[0.26,0.14]],
[[84,87], 0.5 , 62 ,[[74,3]],[0.91,0.12,0.5]],
[[83], 0.5 , 43 ,[[100,1],[123,1]],[0.53,0.14]],
[[83,87], 0.5 , 45 ,[[92,1]],[0.93]],
[[82], 0.5 , 53.5 ,[[3,1],[26,2],[84,1],[95,2],[126,1],[151,1]],[1.03,0.51,1.07,0.91,0.73,0.86,0.14,0.13]],
[[82,85], 0.5 , 56.5 ,[[9,1],[12,1],[20,2]],[0.14,0.26,0.12,0.15]],
[[81], 0.5 , 47.6 ,[[10,1],[15,2],[23,1],[29,1],[84,2],[108,1],[142,1],[144,1]],[1.97,1.07,0.29,0.33,0.33,1.07,0.33,0.25,0.14,0.12]],
[[81,85], 0.5 , 43 ,[[19,1]],[0.33]],
[[80], 0.5 , 44.9474 ,[[2,1],[6,1],[8,4],[11,1],[19,1],[22,1],[29,2],[36,1],[59,1],[89,1],[92,1],[93,1],[144,2],[147,1]],[0.39,0.35,0.38,0.58,1,2.06,0.33,1,1.07,0.5,0.33,0.33,0.33,0.14,0.28,0.28,0.15,0.9,0.15]],
[[80,84], 0.5 , 49 ,[[84,3]],[0.16,0.12,0.12]],
[[80,83], 0.5 , 38.2 ,[[108,1],[114,1],[147,1],[151,2]],[0.29,0.33,0.29,0.14,0.27]],
[[78], 0.5 , 47.0556 ,[[8,1],[13,1],[17,1],[42,1],[54,1],[62,2],[69,1],[84,1],[101,1],[123,3],[142,1],[144,1],[151,1],[156,2]],[0.55,0.5,0.31,0.53,0.33,0.33,0.31,1,0.46,0.14,0.15,0.15,0.89,0.24,0.42,0.12,0.42,0.13]],
[[78,82], 0.5 , 63.5 ,[[7,1],[20,1]],[0.14,0.5]],
[[78,82,90], 0.5 , 28 ,[[109,1]],[0.83]],
[[78,81], 0.5 , 42 ,[[52,1]],[0.33]],
[[77], 0.5 , 43.7619 ,[[0,1],[17,1],[19,3],[21,1],[32,1],[38,1],[44,1],[62,3],[74,1],[89,1],[95,1],[129,1],[138,2],[140,1],[155,1]],[2.96,0.39,0.39,0.44,0.71,0.36,0.55,0.33,0.29,0.31,1.48,0.14,0.14,0.13,0.74,0.37,0.13,0.88,0.14,0.15,0.15]],
[[77,82,89], 0.5 , 30.25 ,[[103,1],[109,1],[120,1],[141,1]],[2.97,2.53,1.26,1.27]],
[[77,80], 0.5 , 46.8571 ,[[42,2],[54,1],[74,1],[84,1],[116,1],[123,1]],[7.5,0.41,0.51,1.03,0.14,0.13,0.3]],
[[76], 0.5 , 36 ,[[3,1],[6,1],[8,1],[21,1],[22,1],[38,2],[61,1],[72,1],[98,1],[123,1],[151,1]],[0.64,1,1,0.29,0.32,0.29,3.34,3.7,0.17,0.51,0.17,0.16]],
[[76,85], 0.5 , 40 ,[[45,1]],[0.33]],
[[76,80], 0.5 , 50 ,[[38,1]],[1.83]],
[[75], 0.5 , 45.6957 ,[[19,1],[22,3],[26,1],[38,1],[54,2],[58,1],[102,1],[115,1],[123,2],[142,1],[144,5],[151,3],[153,1]],[1.08,0.39,1.43,0.39,0.58,0.37,0.34,0.15,0.15,0.15,0.15,0.15,0.54,0.13,0.12,0.14,1.49,0.12,0.28,0.12,0.28,0.3,0.38]],
[[75,87], 0.5 , 39 ,[[136,1]],[0.35]],
[[75,82,87], 0.5 , 34.2857 ,[[27,1],[34,1],[40,3],[95,1],[101,1]],[0.88,0.41,0.47,1.7,0.89,0.41,0.38]],
[[75,79], 0.5 , 37 ,[[42,1]],[0.35]],
[[75,78], 0.5 , 57.75 ,[[28,1],[42,1],[60,1],[94,1]],[0.33,0.15,0.28,0.44]],
[[74], 0.5 , 42 ,[[151,1]],[2.13]],
[[73], 0.5 , 40.1765 ,[[12,2],[15,1],[16,2],[17,1],[19,1],[22,1],[26,3],[29,2],[32,2],[36,1],[53,1],[54,1],[62,1],[74,3],[78,1],[82,1],[89,2],[101,2],[121,1],[124,2],[134,1],[147,2]],[2.96,0.39,0.43,0.37,0.64,0.37,1.4,0.33,0.31,0.5,1.89,1.07,1.78,0.17,1.08,1.64,3.74,0.65,3.78,0.31,0.46,0.16,0.15,0.14,0.86,0.12,0.15,0.28,0.12,0.6,0.29,0.14,0.15,0.15]],
[[73,85], 0.5 , 36 ,[[135,1]],[0.38]],
[[73,82,85], 0.5 , 33.625 ,[[34,2],[40,2],[50,1],[56,2],[165,1]],[2.38,2.38,1.27,3.21,0.41,0.47,0.7,0.35]],
[[73,78,82,85], 0.5 , 36 ,[[136,1]],[0.58]],
[[73,77], 0.5 , 43.5556 ,[[35,1],[36,1],[51,2],[58,1],[62,1],[86,1],[95,1],[145,1]],[1.78,1.78,2.42,0.38,0.35,0.35,0.13,0.44,0.56]],
[[73,76], 0.5 , 43 ,[[52,1]],[0.33]],
[[73,75], 0.5 , 50 ,[[101,1]],[0.13]],
[[72], 0.5 , 45.4286 ,[[17,2],[26,2],[32,2],[54,1],[65,1],[68,1],[69,1],[138,1],[147,1],[149,1],[158,1]],[0.67,0.36,0.37,0.58,0.53,0.29,0.33,0.14,0.14,0.28,0.28,0.38,0.3,0.87]],
[[72,84], 0.5 , 32 ,[[109,1]],[3.62]],
[[72,82], 0.5 , 48 ,[[123,1],[151,1]],[0.15,0.31]],
[[72,82,84], 0.5 , 28 ,[[91,1]],[2.47]],
[[72,80,84], 0.5 , 33 ,[[137,1]],[1.4]],
[[72,78,82,84], 0.5 , 27.6667 ,[[50,1],[91,1],[164,1]],[1.27,3.21,3.21]],
[[72,75], 0.5 , 36.5 ,[[42,1],[58,1],[82,1],[108,1]],[1.78,1.78,0.43,0.37]],
[[71], 0.5 , 41.8571 ,[[2,1],[18,1],[29,1],[31,1],[38,1],[74,1],[106,1]],[0.32,0.33,0.32,1.87,0.17,0.15,0.3]],
[[71,75], 0.5 , 45 ,[[29,1]],[0.17]],
[[70], 0.5 , 41.6667 ,[[8,1],[19,1],[22,1],[32,1],[38,6],[45,1],[54,1],[62,1],[74,1],[83,1],[84,1],[108,1],[116,1],[132,1],[133,1],[138,1],[142,1],[144,2],[147,2],[150,2],[151,2]],[3.09,1.34,3.99,0.4,0.39,3.89,0.64,0.71,0.38,0.31,0.33,0.29,1.03,0.51,0.53,0.33,0.31,0.14,0.16,0.17,0.15,0.14,0.13,1.48,0.12,0.15,0.14,0.12,0.37,0.12]],
[[70,82], 0.5 , 36 ,[[136,1]],[0.58]],
[[70,78,82], 0.5 , 35.5556 ,[[49,1],[56,2],[78,1],[98,1],[103,1],[123,1],[135,1],[159,1]],[1.27,2.73,0.41,2.08,0.64,0.64,0.64,1.4,0.73]],
[[70,77,82], 0.5 , 33 ,[[148,1]],[1.33]],
[[70,73], 0.5 , 44.1667 ,[[26,1],[51,2],[68,1],[73,1],[95,1]],[0.39,0.43,0.41,2.46,0.28,0.28]],
[[69], 0.5 , 39.9333 ,[[38,8],[45,1],[72,1],[74,1],[106,1],[112,1],[123,1],[147,1]],[0.33,1.79,3.2,1.68,1.08,3.56,0.65,3.86,0.3,0.17,0.17,0.14,0.14,0.14,0.14]],
[[69,77], 0.5 , 69 ,[[95,1]],[0.28]],
[[69,73], 0.5 , 39 ,[[62,1]],[3.3]],
[[68], 0.5 , 40.3784 ,[[4,1],[8,1],[21,1],[25,1],[28,1],[30,1],[32,1],[38,7],[45,4],[52,4],[54,2],[59,2],[74,1],[84,2],[86,1],[95,1],[123,1],[141,1],[146,1],[149,1],[154,1],[158,1]],[0.4,2.96,0.37,0.58,0.37,0.37,0.37,0.35,0.36,0.64,1.4,0.33,0.33,0.29,0.51,1.84,1.97,0.85,0.33,0.32,3.25,0.13,0.14,0.13,0.28,0.56,0.67,1.87,0.15,0.14,0.14,0.14,0.27,0.29,0.29,0.15,0.15]],
[[68,80], 0.5 , 35.6667 ,[[85,1],[160,1],[162,1]],[1.78,0.73,0.35]],
[[68,77,80], 0.5 , 56 ,[[89,1]],[0.12]],
[[68,75], 0.5 , 37 ,[[42,1]],[0.38]],
[[68,75,80], 0.5 , 32 ,[[103,1]],[3.62]],
[[68,73,80], 0.5 , 28 ,[[148,1]],[2.34]],
[[68,72], 0.5 , 38.6667 ,[[58,1],[74,1],[149,1]],[3.7,0.41,0.12]],
[[68,72,77], 0.5 , 37.3333 ,[[29,1],[110,1],[132,1]],[0.18,0.16,0.13]],
[[68,72,77,80], 0.5 , 38 ,[[137,1]],[0.39]],
[[68,72,75,80], 0.5 , 37 ,[[77,1]],[1.45]],
[[68,71], 0.5 , 37.5 ,[[19,1],[38,1],[62,1],[95,1]],[0.35,1.4,1.18,0.15]],
[[67,70,73], 0.5 , 30 ,[[158,1]],[2.46]],
[[66], 0.5 , 41.2222 ,[[9,1],[19,1],[29,1],[32,1],[45,1],[54,7],[59,4],[62,3],[84,2],[94,1],[95,1],[97,1],[98,1],[99,1],[103,1],[107,1],[116,1],[131,1],[134,1],[138,1],[144,2],[151,6],[152,2],[154,2],[156,1]],[0.4,0.42,2.42,0.38,0.35,0.36,0.31,0.33,0.29,0.34,0.34,0.53,1.03,0.32,0.33,1,0.33,0.32,0.17,2.06,3.6,0.93,0.31,0.17,0.18,0.29,0.43,0.14,0.15,0.71,0.15,0.15,0.16,0.12,0.15,0.15,0.12,0.15,0.12,0.12,0.14,0.13,0.37,0.28,0.27]],
[[66,78], 0.5 , 36 ,[[98,1],[118,1],[128,1]],[1.04,0.83,0.39]],
[[66,73,78], 0.5 , 32 ,[[132,1]],[3.41]],
[[66,72,75,78], 0.5 , 31.8 ,[[77,2],[128,1],[132,1],[163,1]],[1.86,1.86,1.86,0.68,1.84]],
[[66,70,75], 0.5 , 35.5 ,[[26,3],[59,1],[91,1],[147,1]],[0.39,3.62,3.32,0.17,0.18,0.12]],
[[66,70,75,78], 0.5 , 38.8 ,[[70,1],[79,2],[123,1],[161,1]],[0.38,0.35,0.35,0.39,0.38]],
[[66,70,73], 0.5 , 56 ,[[103,1]],[0.37]],
[[66,70,73,78], 0.5 , 30 ,[[132,1]],[2.48]],
[[66,69], 0.5 , 35 ,[[58,1],[74,1]],[0.39,0.98]],
[[66,68], 0.5 , 39 ,[[54,1]],[3.99]],
[[65], 0.5 , 40.4545 ,[[1,1],[5,1],[6,1],[8,1],[16,1],[23,1],[29,1],[36,1],[38,1],[42,1],[54,1],[59,1],[62,9],[72,1],[95,2],[101,2],[119,1],[122,1],[123,1],[151,3],[154,1]],[0.4,0.39,1.16,0.79,0.35,0.54,0.71,0.52,0.51,0.64,1.4,1.4,0.51,0.33,2.05,0.51,1.97,0.88,0.12,0.86,0.14,0.14,0.79,0.12,0.37,1.9,0.14,0.28,0.29,0.29,0.89,0.14,0.15]],
[[65,77], 0.5 , 23 ,[[88,1]],[0.71]],
[[65,73], 0.5 , 38.5 ,[[42,1],[123,1]],[0.37,0.38]],
[[65,73,77], 0.5 , 40 ,[[78,1],[88,1]],[2.47,0.12]],
[[65,70,75], 0.5 , 32.5 ,[[26,1],[151,1]],[1.43,0.3]],
[[65,68], 0.5 , 37.1667 ,[[28,1],[32,1],[68,1],[72,1],[92,1],[113,1]],[7.5,3.7,0.38,0.37,1.4,0.37]],
[[65,66], 0.5 , 37 ,[[59,1]],[1.52]],
[[65,66,70], 0.5 , 24.75 ,[[7,1],[40,1],[98,2]],[3.21,2.47,3.32,3.32]],
[[64], 0.5 , 38.6471 ,[[8,1],[22,2],[45,1],[62,5],[74,4],[101,2],[103,1],[116,1]],[0.37,0.35,0.53,0.33,1,0.89,0.33,3.65,0.32,0.31,0.51,0.17,0.17,0.16,0.15,0.15,0.17]],
[[64,73], 0.5 , 39 ,[[123,1]],[0.29]],
[[64,68], 0.5 , 40 ,[[43,1],[59,1]],[0.33,2.06]],
[[63], 0.5 , 41.8 ,[[15,1],[19,2],[38,1],[74,10],[78,1],[84,2],[95,1],[101,2],[116,2],[123,3],[144,5],[151,5]],[0.42,0.38,0.39,1.18,0.38,0.35,0.36,1.03,1.04,0.33,0.51,0.33,0.31,0.33,0.15,0.15,0.16,0.43,0.14,0.15,2.03,0.15,0.15,0.15,0.43,0.14,0.12,0.13,0.39,0.39,0.37,0.28,0.29,0.13,0.14]],
[[63,75], 0.5 , 33.3333 ,[[153,2],[158,1]],[1.18,1.17,0.33]],
[[63,66], 0.5 , 34.6667 ,[[54,1],[59,1],[90,1]],[0.4,1.56,2.05]],
[[63,66,70], 0.5 , 35.2222 ,[[59,1],[66,1],[84,1],[91,1],[98,2],[103,2],[113,1]],[1.27,1.68,0.39,3.32,1.4,1.04,0.35,3.61,0.17]],
[[63,65], 0.5 , 32 ,[[111,1]],[3.79]],
[[62], 0.5 , 53.5 ,[[2,1],[19,1]],[1,0.51]],
[[61], 0.5 , 39.375 ,[[4,1],[17,2],[22,1],[26,2],[29,1],[34,1],[59,1],[62,1],[74,3],[84,6],[92,3],[95,1],[101,1],[106,1],[109,1],[120,2],[121,2],[123,2],[126,1],[130,1],[132,1],[138,1],[144,1],[147,1],[151,1],[154,1]],[0.41,2.51,1.18,0.47,0.38,1.44,0.05,0.64,0.36,0.55,0.34,0.53,0.33,1,0.17,0.32,0.64,0.31,0.3,0.93,0.17,0.17,0.19,0.16,0.16,0.16,0.14,0.14,0.74,0.3,0.29,1.9,0.12,0.32,0.6,0.31,0.29,0.14,0.15,0.15]],
[[61,68,73], 0.5 , 35.3333 ,[[96,3]],[1.18,2.35,0.12]],
[[61,66,70], 0.5 , 35.2308 ,[[27,1],[34,1],[46,1],[75,2],[92,1],[98,1],[101,2],[103,2],[116,1],[147,1]],[3.36,3.36,0.43,1.27,1.4,0.38,0.83,0.38,0.35,1.77,0.49,0.16,0.12]],
[[61,65], 0.5 , 38 ,[[38,1]],[1.15]],
[[61,65,70], 0.5 , 40 ,[[142,1]],[0.32]],
[[61,64], 0.5 , 41 ,[[38,1],[62,1],[112,1]],[0.32,0.69,0.63]],
[[61,63], 0.5 , 27 ,[[62,1]],[2.96]],
[[60], 0.5 , 42.1053 ,[[17,1],[21,1],[28,1],[58,1],[74,1],[84,7],[95,3],[118,1],[132,1],[144,1],[156,1]],[1.33,0.37,0.51,0.34,0.29,0.34,0.33,0.33,0.53,0.17,0.16,0.12,0.15,0.28,0.37,2.53,0.14,0.14,0.14]],
[[60,66,70], 0.5 , 37.6 ,[[24,1],[27,1],[56,1],[109,1],[154,1]],[2.53,1.27,0.83,3.97,0.12]],
[[60,66,68], 0.5 , 52 ,[[156,1]],[0.13]],
[[60,63], 0.5 , 38 ,[[101,1]],[3.79]],
[[60,63,66], 0.5 , 42.5 ,[[59,1],[132,1]],[0.63,0.93]],
[[59], 0.5 , 40.2857 ,[[8,1],[19,1],[87,1],[92,3],[95,1]],[0.35,0.53,0.31,0.12,0.29,0.14,0.9]],
[[59,61], 0.5 , 41 ,[[92,1]],[0.29]],
[[59,61,65], 0.5 , 35.5 ,[[38,1],[125,1]],[3.36,0.32]],
[[58], 0.5 , 42.7 ,[[15,1],[32,1],[92,1],[95,1],[97,1],[101,7],[108,3],[123,1],[131,1],[147,1],[149,1],[157,1]],[2.51,0.38,0.64,1.03,1.04,0.51,0.31,0.34,0.33,0.29,1.87,0.31,0.52,0.59,0.85,0.44,0.28,0.3,0.87,0.12]],
[[58,66,68], 0.5 , 34 ,[[144,1],[147,1]],[0.17,0.16]],
[[58,63,66], 0.5 , 32.5 ,[[76,1],[77,1]],[0.71,3.41]],
[[58,61], 0.5 , 36 ,[[74,1]],[0.41]],
[[58,61,66], 0.5 , 41 ,[[34,1],[81,1],[150,1]],[1.27,0.38,0.12]],
[[57], 0.5 , 38.2 ,[[69,1],[95,1],[97,1],[101,2]],[1.6,0.64,0.17,0.18,1.77]],
[[57,60], 0.5 , 30 ,[[95,1]],[2.34]],
[[56], 0.5 , 41.4773 ,[[7,1],[8,2],[15,1],[17,1],[21,1],[22,1],[32,3],[40,1],[54,1],[74,1],[84,1],[92,1],[95,2],[101,10],[108,3],[113,5],[116,4],[138,1],[144,3],[158,1]],[0.38,0.73,0.37,1.79,2.09,0.37,0.37,0.51,0.35,0.64,0.34,0.34,0.33,0.33,1,0.17,0.39,0.32,0.31,0.15,1.72,0.88,0.15,0.15,0.12,0.12,0.43,0.12,0.42,0.12,0.14,0.12,0.3,0.13,0.6,0.14,0.59,0.29,0.14,0.15,0.14,0.29,0.3,0.15]],
[[56,61], 0.5 , 37.5 ,[[95,1],[102,1]],[0.39,0.13]],
[[56,61,65], 0.5 , 56 ,[[101,1]],[0.37]],
[[56,60], 0.5 , 49.5 ,[[92,1],[132,1]],[1.59,0.53]],
[[56,60,65], 0.5 , 40 ,[[136,2]],[1.45,1.79]],
[[56,60,63], 0.5 , 38.5 ,[[108,1],[135,1]],[1.84,0.38]],
[[56,59], 0.5 , 45 ,[[8,1],[14,1]],[0.33,0.31]],
[[56,58], 0.5 , 33 ,[[95,1]],[0.38]],
[[55], 0.5 , 43.6667 ,[[19,1],[54,1],[144,1]],[0.34,0.51,0.51]],
[[54], 0.5 , 38.2 ,[[28,1],[63,2],[71,1],[101,1],[116,6],[121,1],[142,1],[143,1],[152,1]],[1.17,2.45,0.38,2.48,2.01,0.31,0.34,0.33,0.29,0.31,0.2,0.17,0.16,0.28,0.12]],
[[54,61], 0.5 , 47.5 ,[[5,1],[32,1]],[0.14,0.12]],
[[54,61,63], 0.5 , 39 ,[[92,1],[121,1]],[3.69,0.93]],
[[54,60,63], 0.5 , 38.2 ,[[56,1],[75,1],[79,1],[135,2]],[0.35,0.35,0.39,0.39,0.38]],
[[54,58,63], 0.5 , 36.3 ,[[19,2],[41,1],[55,1],[56,1],[127,2],[136,3]],[0.35,0.58,0.58,1.45,1.84,0.35,0.35,0.39,1.44,1.79]],
[[54,58,61], 0.5 , 34.5 ,[[56,1],[79,1]],[0.39,0.38]],
[[53], 0.5 , 37.6471 ,[[26,2],[32,1],[54,1],[62,1],[108,2],[123,8],[154,1],[158,1]],[1.44,2.09,0.37,0.38,0.55,0.34,0.33,0.33,0.31,0.12,0.29,0.14,0.29,0.87,0.15,0.3,0.15]],
[[53,60,63], 0.5 , 57 ,[[28,1]],[0.3]],
[[53,59], 0.5 , 27 ,[[32,1]],[3.36]],
[[53,58,63], 0.5 , 38 ,[[34,1],[80,1]],[0.41,0.65]],
[[53,56], 0.5 , 39.1429 ,[[8,1],[28,1],[104,1],[108,1],[115,1],[139,1],[142,1]],[1.17,2.4,1.43,0.32,0.53,0.12,0.32]],
[[52], 0.5 , 33.4 ,[[78,1],[108,1],[123,3]],[0.37,0.35,0.17,0.16,0.14]],
[[51], 0.5 , 45.075 ,[[7,1],[8,2],[15,1],[22,3],[32,3],[47,2],[54,2],[74,6],[95,4],[108,1],[123,4],[131,1],[132,1],[133,1],[150,2],[151,6]],[0.34,0.53,0.51,0.55,2.01,0.53,0.29,0.15,1.33,0.15,0.16,0.16,0.14,0.17,0.14,0.15,0.7,0.15,0.16,0.15,0.89,2.03,0.15,0.15,0.93,0.56,0.15,0.15,0.15,0.15,0.14,0.76,0.15,0.14,0.24,0.74,0.13,0.14,0.91,0.14]],
[[51,54], 0.5 , 33 ,[[151,1]],[2.42]],
[[51,54,60], 0.5 , 56 ,[[151,1]],[0.37]],
[[49], 0.5 , 38 ,[[22,1],[26,1],[37,1],[101,1],[123,3],[132,2],[138,5],[143,1],[151,1],[152,3]],[0.54,0.37,0.55,0.31,2.13,0.31,0.33,0.33,0.33,0.59,0.49,0.16,0.16,0.16,0.29,0.14,0.15,0.29,0.15]],
[[49,54,58,61], 0.5 , 33.3333 ,[[38,1],[63,1],[87,1]],[0.39,1.78,0.92]],
[[48], 0.5 , 36.7143 ,[[26,1],[45,1],[54,1],[132,1],[138,3]],[2.09,0.38,0.33,0.31,0.12,0.88,0.29]],
[[46], 0.5 , 42 ,[[19,1],[27,1],[32,1],[62,1],[144,1],[151,1],[156,1]],[3.89,0.52,1.09,0.55,0.5,2.06,1.87]],
[[44], 0.5 , 39.2222 ,[[22,2],[26,1],[32,1],[45,1],[54,3],[62,2],[74,4],[95,4],[102,1],[105,1],[108,1],[117,1],[123,1],[143,3],[144,13],[147,3],[156,1],[158,2]],[0.4,1.16,0.54,0.37,0.37,0.35,0.58,0.33,0.29,0.5,0.29,0.32,0.16,0.15,0.15,0.16,0.14,0.16,0.16,0.42,0.15,0.16,0.15,0.15,0.16,0.15,0.15,0.9,0.15,0.15,0.56,0.89,0.15,0.14,0.32,0.15,0.15,0.12,0.13,0.59,0.15,0.29,0.29,1.83,0.15]],
[[42], 0.5 , 32.1667 ,[[101,1],[103,1],[116,1],[117,1],[147,2]],[0.34,1.03,0.51,0.16,0.16,0.16]],
[[42,49], 0.5 , 40 ,[[57,1],[67,1],[148,1]],[0.78,1.33,0.6]],
[[41], 0.5 , 42.1429 ,[[45,2],[62,1],[116,1],[149,3]],[0.64,0.52,1.07,0.31,0.6,0.14,0.14]],
[[41,49], 0.5 , 34 ,[[32,1]],[1.17]],
[[39], 0.5 , 42 ,[[11,1],[32,1],[54,1],[123,1],[150,2],[151,1]],[0.29,1.09,0.33,0.33,0.54,0.15,0.3]],
[[39,51], 0.5 , 31 ,[[136,1]],[0.38]],
[[37], 0.5 , 35.5 ,[[64,1],[78,1],[84,1],[151,5]],[0.41,2.46,0.37,0.58,0.6,0.29,0.14,0.15]],
[[37,49], 0.5 , 33 ,[[56,1]],[1.4]],
[[36,48], 0.5 , 36 ,[[33,1]],[0.35]],
[[34,46], 0.5 , 37 ,[[79,1]],[0.35]],
[[33,45], 0.5 , 36 ,[[39,1]],[0.38]],
[[32,44], 0.5 , 37 ,[[77,1]],[1.43]],
[[27,39], 0.5 , 40 ,[[50,1]],[1.27]],
[[27,39,46], 0.5 , 40 ,[[48,1]],[0.47]]
];

	var node_index = 0;
	var bps = 60 / 60.0;  // Beats per second

	inf.do({

		var weight = 0;
		var random;
		var accumulator;
		var node = node_list[node_index];
		var temp=node[0];
		//var freq = node[0].midicps;
		//var dur = node[1] / bps;
		var dur = node[4][node[4].size.rand] / bps;
		var paths = node[3];
		var amp = node[2];

		// Get total statistical weight of connected nodes
		(0 .. paths.size - 1).do {|i| weight = weight + paths[i][1]};

		// Generate random value for choosing next node
		random = weight.rand;

		// Choose next node based on statistical weights
		accumulator = paths[0][1];

		node_index = block {|break|
			paths.size.do {|i|
				if ((random < accumulator), {
					break.value(paths[i][0])
					}, {
						accumulator = accumulator + paths[i + 1][1]
				})
			}
		};
m = MIDIOut(11);

		// Play
		//Synth(\my_synth, [\dur, dur, \amp, -3.dbamp, \freq, freq]);
		//Synth(\my_synth, [\dur, dur, \amp, amp/127.0, \freq, freq]);
		temp=node[0];
		//temp.postln;
		temp.size.do{|i| m.noteOn(16,temp[i] , amp);};
		temp.postln;
		node[0].postln;
		//m.noteOn(16, node[0], amp-50);
		//m.noteOn(16, 13, amp-50);
		//dur.wait+0.1.rand-0.05;
		dur.wait+0.1.rand-0.05;
		//m.noteOff(16, 13, amp-50);
		temp.size.do{|i|m.noteOff(16,temp[i] , amp-50);};
	})
});

t.start;


);

////c
//node_list[2].postln;


//m
m = MIDIOut
m
//
//

//m.allNotesOff(16);


