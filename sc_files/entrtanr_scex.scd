(
MIDIClient.init;
MIDIIn.connectAll;
//MIDIOut.connect[];

// Create task
t = Task({


	// Set attributes of each node
	// [freq, dur, [[next_state, weighted_random],ï¿½]]
	var node_list =[
[[94], 0.5 , 89 ,[[6,1]],[0.32]],
[[93], 0.5 , 71 ,[[8,1],[129,1],[149,1]],[0.28,0.21,0.18]],
[[91], 0.5 , 74.5 ,[[1,2],[4,1],[112,1]],[0.28,0.17,0.21,0.17]],
[[89], 0.5 , 64.5 ,[[17,1],[112,1]],[0.18,0.18]],
[[88], 0.5 , 74.9 ,[[3,1],[7,3],[108,2],[112,2],[121,2]],[0.21,0.28,0.28,0.17,0.18,0.18,0.21,0.28,0.2,0.24]],
[[86], 0.5 , 73.5556 ,[[4,2],[7,3],[10,2],[11,1],[16,1]],[0.28,0.18,0.21,0.32,0.18,0.21,0.17,0.2,0.17]],
[[86,91,95], 0.5 , 82.5 ,[[114,1],[131,1]],[0.32,0.28]],
[[84], 0.5 , 74.875 ,[[4,1],[13,2],[16,2],[105,2],[109,2],[112,2],[120,2],[123,1],[125,1],[126,1]],[0.17,0.18,0.18,0.21,0.17,0.21,0.28,0.18,0.32,0.17,0.21,0.17,0.18,0.32,0.17,0.29]],
[[84,90], 0.5 , 69 ,[[107,1]],[0.18]],
[[84,90,95], 0.5 , 76 ,[[131,1]],[0.15]],
[[83], 0.5 , 74.6667 ,[[7,2],[98,4]],[0.18,0.28,0.28,0.18,0.21,0.17]],
[[83,91], 0.5 , 88 ,[[114,1]],[0.32]],
[[82], 0.5 , 75.3333 ,[[39,1],[112,2]],[0.21,0.31,0.28]],
[[81], 0.5 , 73.7857 ,[[7,1],[16,3],[47,1],[106,2],[118,2],[123,1],[129,1],[149,1],[151,2]],[0.2,0.17,0.15,0.34,0.32,0.21,0.28,0.18,0.31,0.32,0.17,0.18,0.2,0.33]],
[[81,88,93], 0.5 , 78.6667 ,[[112,6]],[0.21,0.28,0.21,0.17,0.28,0.17]],
[[80], 0.5 , 73.8333 ,[[10,2],[27,4]],[0.18,0.28,0.2,0.21,0.21,0.18]],
[[79], 0.5 , 74.3871 ,[[7,1],[13,4],[18,1],[21,1],[27,1],[30,1],[37,8],[99,4],[112,5],[124,2],[125,1],[131,2]],[0.17,0.32,0.17,0.17,0.21,1.03,0.32,0.17,0.18,0.18,0.17,0.28,0.28,0.17,0.18,0.28,0.18,0.28,0.16,0.31,1.02,0.21,0.18,0.17,0.3,0.17,0.28,0.31,0.18,0.33,0.2]],
[[79,88,91], 0.5 , 75.3333 ,[[125,1],[135,4],[149,5],[160,2]],[0.18,0.17,0.22,0.22,0.21,0.17,0.17,0.18,0.18,0.21,0.17,0.18]],
[[78], 0.5 , 74 ,[[101,1]],[0.17]],
[[78,87,90], 0.5 , 80 ,[[17,5]],[0.18,1.03,0.14,0.18,0.28]],
[[78,84], 0.5 , 73 ,[[133,1]],[0.17]],
[[78,81], 0.5 , 73 ,[[132,1]],[0.17]],
[[77], 0.5 , 71.1538 ,[[16,3],[44,2],[53,2],[67,2],[73,1],[112,1],[131,2]],[0.22,0.18,0.17,0.21,0.28,0.28,0.18,0.2,0.24,0.28,0.2,0.18,0.29]],
[[77,88], 0.5 , 69 ,[[113,1]],[0.18]],
[[77,86], 0.5 , 77 ,[[113,1]],[0.21]],
[[77,86,89], 0.5 , 87 ,[[112,3],[157,2]],[0.17,1.03,0.14,1.03,0.17]],
[[77,82,86], 0.5 , 74.5 ,[[143,4]],[0.21,0.17,0.21,0.28]],
[[77,81], 0.5 , 74.9167 ,[[103,4],[105,4],[151,4]],[0.18,0.3,0.28,0.17,0.2,0.28,0.28,0.21,0.21,0.16,0.18,0.28]],
[[77,81,84], 0.5 , 80.5 ,[[105,4]],[0.28,0.18,0.21,0.32]],
[[77,81,84,89], 0.5 , 79 ,[[162,1]],[0.28]],
[[76], 0.5 , 74.4643 ,[[22,2],[37,4],[41,4],[43,4],[64,2],[78,2],[96,1],[112,5],[121,2],[125,2]],[0.21,0.21,1.03,0.17,0.18,1.03,0.18,0.22,0.21,0.18,0.28,0.18,0.21,0.28,0.28,0.17,0.17,0.18,0.18,0.3,0.17,0.18,0.21,0.28,0.31,1.04,0.18,0.18]],
[[76,88], 0.5 , 78.2 ,[[44,3],[131,3],[138,1],[144,3],[146,2],[148,3]],[0.21,0.18,0.28,0.22,0.21,0.17,0.32,0.17,0.17,0.28,0.3,0.18,0.3,0.18,0.3]],
[[76,84], 0.5 , 77 ,[[138,1]],[0.21]],
[[76,84,88], 0.5 , 80.6 ,[[25,5]],[0.17,0.28,0.28,1.03,0.17]],
[[76,79,88], 0.5 , 73.1111 ,[[49,2],[149,14],[150,2]],[0.32,0.18,0.2,0.18,0.21,0.18,0.18,0.34,0.21,0.17,0.18,0.28,0.17,0.2,0.18,0.28,0.21,0.17]],
[[75], 0.5 , 64.5 ,[[30,2]],[0.17,0.18]],
[[75,78,87], 0.5 , 74.3333 ,[[34,5],[149,1]],[0.2,0.17,0.34,0.28,0.3,0.21]],
[[74], 0.5 , 77.4595 ,[[30,3],[43,7],[54,1],[70,1],[86,1],[100,4],[127,4],[144,4],[148,4],[149,4],[150,4]],[0.31,1.03,0.28,0.22,0.28,0.18,0.2,0.18,0.3,0.24,0.17,0.2,0.15,0.17,0.2,0.18,0.31,0.21,0.28,0.21,1.02,0.18,0.18,0.21,0.21,0.15,0.18,0.8,0.15,0.18,0.17,0.28,0.28,0.31,0.21,0.18,1.04]],
[[74,86], 0.5 , 78.1053 ,[[31,4],[44,4],[105,2],[109,2],[112,4],[119,1],[138,1],[139,1]],[0.21,0.18,1.14,0.18,0.16,0.17,0.28,0.21,0.18,0.17,0.18,0.28,0.21,0.21,0.21,0.17,0.21,0.3,0.17]],
[[74,79,83], 0.5 , 75.5 ,[[114,1],[131,1]],[0.21,0.18]],
[[74,79,82], 0.5 , 81.75 ,[[149,4]],[0.21,0.2,0.17,0.21]],
[[74,77], 0.5 , 78.25 ,[[103,4],[156,4]],[0.18,0.32,0.18,0.31,0.28,0.17,0.17,0.3]],
[[74,77,86], 0.5 , 72.9615 ,[[34,2],[36,1],[111,5],[112,2],[113,4],[124,4],[127,4],[135,1],[136,1],[140,1],[150,1]],[0.18,0.2,0.28,0.28,0.18,0.18,0.28,0.18,0.28,0.21,0.18,0.18,0.28,0.17,0.17,0.28,0.21,0.28,0.2,0.17,0.18,0.28,0.17,0.18,0.18,0.3]],
[[72], 0.5 , 78.3553 ,[[30,2],[37,9],[55,2],[59,2],[61,2],[72,4],[102,1],[105,2],[109,2],[112,3],[116,1],[120,4],[122,4],[123,2],[125,1],[126,1],[127,9],[145,4],[146,4],[150,8],[152,9]],[0.31,0.34,0.34,0.17,0.21,0.17,0.15,0.18,1.03,0.21,1.03,0.28,0.28,0.18,0.17,0.21,0.32,0.18,1.03,0.17,0.18,0.28,0.28,0.28,0.28,0.18,0.18,0.28,0.28,0.22,0.21,0.18,0.31,0.28,0.18,0.32,0.17,0.18,0.21,0.18,0.3,0.2,0.2,0.81,0.28,0.21,0.21,0.28,0.18,0.18,0.21,0.21,0.17,0.3,0.18,0.28,0.23,0.15,0.17,0.18,0.28,0.28,0.2,0.2,0.2,0.28,0.3,0.28,0.24,0.16,0.21,0.17,0.21,0.32,0.18,0.21]],
[[72,84], 0.5 , 77.0278 ,[[31,3],[34,2],[38,11],[44,2],[62,2],[105,3],[109,1],[112,2],[119,2],[130,4],[134,2],[146,1],[150,1]],[0.17,0.21,0.29,0.18,0.28,0.21,0.22,0.17,0.28,0.17,0.17,0.21,0.18,0.28,0.21,0.18,0.17,0.17,0.18,0.3,0.21,0.17,0.18,0.28,0.21,0.18,0.17,0.21,0.18,0.17,0.28,0.2,0.15,0.2,0.18,0.18]],
[[72,81], 0.5 , 67.5 ,[[130,2]],[0.18,0.29]],
[[72,79], 0.5 , 64.5 ,[[127,2]],[0.18,0.18]],
[[72,78], 0.5 , 89 ,[[107,1]],[0.15]],
[[72,78,83], 0.5 , 75 ,[[131,1]],[0.17]],
[[72,76,84], 0.5 , 75.4783 ,[[42,11],[111,1],[112,1],[127,2],[128,1],[135,3],[140,2],[150,1],[160,1]],[0.18,0.28,0.18,0.22,0.32,0.18,0.17,0.17,0.18,0.18,0.21,0.21,0.32,0.18,0.28,0.17,0.32,0.21,0.18,0.18,0.18,0.3,0.15]],
[[72,76,79,84], 0.5 , 78.5 ,[[160,2]],[0.3,0.22]],
[[71], 0.5 , 76.25 ,[[43,3],[110,1]],[0.17,0.18,0.28,0.21]],
[[71,83], 0.5 , 75 ,[[71,1]],[0.21]],
[[71,81], 0.5 , 67 ,[[124,2]],[0.2,0.29]],
[[71,79], 0.5 , 76 ,[[114,1]],[0.17]],
[[71,74], 0.5 , 81.1667 ,[[124,2],[141,2],[149,2]],[0.28,0.28,0.17,1.02,0.34,0.37]],
[[71,74,83], 0.5 , 77.1111 ,[[42,6],[113,1],[124,2]],[0.97,0.32,0.32,0.28,0.28,0.17,0.17,0.21,0.17]],
[[70], 0.5 , 75.3333 ,[[100,4],[115,4],[121,4]],[0.17,0.15,0.28,0.17,0.28,0.18,0.28,0.21,0.24,0.17,0.21,0.28]],
[[70,79], 0.5 , 82.5 ,[[138,2]],[0.31,0.28]],
[[70,74], 0.5 , 75.5 ,[[160,2]],[0.28,0.18]],
[[70,73], 0.5 , 84.75 ,[[55,2],[124,2]],[0.24,0.17,0.28,0.37]],
[[69], 0.5 , 77.5152 ,[[43,6],[57,8],[70,2],[82,4],[89,4],[97,1],[123,2],[151,2],[152,2],[157,2]],[0.21,0.31,0.21,1.14,0.18,0.21,0.15,0.8,0.28,0.2,0.17,0.24,0.21,0.32,0.18,0.3,0.21,0.3,0.21,0.28,0.17,0.28,0.18,0.17,0.18,0.21,0.21,0.21,0.15,0.17,0.18,0.21,0.29]],
[[69,81], 0.5 , 80.7143 ,[[42,2],[44,2],[52,1],[113,1],[134,1]],[0.17,0.21,0.29,0.14,0.18,0.17,0.18]],
[[69,79], 0.5 , 65 ,[[153,2]],[0.17,0.18]],
[[69,77], 0.5 , 72.5 ,[[152,4]],[0.21,0.17,0.28,0.17]],
[[69,76,81], 0.5 , 77.3333 ,[[112,6]],[0.28,0.32,0.28,0.18,0.29,0.31]],
[[69,72], 0.5 , 67.5 ,[[72,2]],[0.18,0.29]],
[[69,72,81], 0.5 , 73.75 ,[[154,2],[160,2]],[0.17,0.18,0.18,0.18]],
[[68], 0.5 , 71 ,[[61,2]],[0.18,0.29]],
[[68,71,77], 0.5 , 80.5 ,[[159,2]],[0.28,0.17]],
[[67], 0.5 , 75.6667 ,[[43,1],[61,2],[76,1],[80,2],[112,2],[115,4],[125,1],[131,5]],[0.21,0.31,0.28,0.21,0.28,0.18,0.16,0.28,0.18,0.17,0.18,0.28,0.32,0.31,0.18,0.32,0.15,0.17]],
[[67,79], 0.5 , 75 ,[[93,1]],[0.21]],
[[67,76], 0.5 , 75.6667 ,[[127,4],[150,2]],[0.21,0.28,0.18,0.24,0.32,0.33]],
[[67,76,79], 0.5 , 72.6667 ,[[125,1],[135,4],[149,5],[160,2]],[0.17,0.17,0.18,0.32,0.2,0.2,0.28,0.28,0.18,0.28,0.18,1.03]],
[[67,72,79], 0.5 , 77 ,[[79,2],[158,1]],[0.17,0.17,0.18]],
[[67,71,74,79], 0.5 , 81 ,[[93,1]],[0.17]],
[[66], 0.5 , 71.6 ,[[70,4],[101,1]],[0.28,0.18,0.2,0.28,0.18]],
[[66,75,78], 0.5 , 73.2 ,[[73,5]],[0.17,0.18,0.28,0.18,0.18]],
[[66,72], 0.5 , 73.5 ,[[133,2],[146,2],[157,2]],[0.17,0.21,0.28,0.21,0.18,0.29]],
[[66,72,78], 0.5 , 81.5 ,[[157,2]],[0.14,0.17]],
[[66,69], 0.5 , 73.5 ,[[132,2]],[0.28,0.17]],
[[65,76], 0.5 , 71.5 ,[[113,2]],[0.18,0.18]],
[[65,74], 0.5 , 80.8333 ,[[113,2],[122,4]],[0.18,0.18,0.28,0.28,0.21,0.15]],
[[65,74,77], 0.5 , 76.4 ,[[77,1],[112,3],[157,1]],[0.17,0.21,0.18,0.21,0.17]],
[[65,71,76], 0.5 , 64.5 ,[[150,2]],[0.21,0.18]],
[[65,71,74], 0.5 , 67.5 ,[[142,2]],[0.21,0.29]],
[[64], 0.5 , 80.2963 ,[[30,1],[43,11],[116,7],[135,7],[150,1]],[0.21,0.21,0.33,0.34,0.34,0.21,0.18,0.18,1.03,0.21,0.17,0.28,0.22,0.28,0.17,0.21,0.32,1.03,0.17,0.31,0.28,0.18,0.32,0.17,0.21,0.17,0.17]],
[[64,72], 0.5 , 78.5 ,[[138,2]],[0.21,0.17]],
[[64,72,76], 0.5 , 73.8 ,[[83,5]],[0.17,0.21,0.18,0.21,0.17]],
[[64,67], 0.5 , 75.0833 ,[[89,9],[94,3],[127,4],[135,4],[149,4]],[0.3,0.18,0.32,0.31,0.31,0.28,0.17,0.18,0.28,0.18,0.28,0.28,0.17,0.21,0.21,0.34,0.28,0.29,0.29,0.17,0.17,0.18,0.3,0.17]],
[[64,67,72], 0.5 , 82.5 ,[[138,2]],[0.28,0.21]],
[[63], 0.5 , 77.4444 ,[[86,6],[135,2],[137,1]],[0.21,0.17,0.31,0.17,0.28,0.21,0.21,0.2,0.17]],
[[63,66], 0.5 , 78.125 ,[[89,4],[127,4]],[0.3,0.32,0.31,0.2,0.21,0.28,0.3,0.17]],
[[62], 0.5 , 78.3 ,[[37,1],[91,3],[113,2],[125,1],[142,3]],[0.31,0.31,0.21,0.17,0.31,0.18,0.28,0.28,0.2,0.32]],
[[62,65], 0.5 , 74 ,[[122,4],[145,4],[151,4]],[0.3,0.21,0.18,0.17,0.2,0.18,0.21,0.17,0.28,0.17,0.18,0.17]],
[[61,64], 0.5 , 75.875 ,[[94,4],[122,4]],[0.21,0.18,0.2,0.18,0.21,0.28,0.21,0.17]],
[[60], 0.5 , 74 ,[[43,1],[145,1]],[0.31,0.31]],
[[59], 0.5 , 90 ,[[51,1],[145,1]],[0.17,0.17]],
[[59,62,64], 0.5 , 78 ,[[4,2],[7,2]],[0.28,0.18,0.21,0.17]],
[[58,62], 0.5 , 77.5 ,[[37,4]],[0.28,0.17,0.31,0.17]],
[[58,62,65], 0.5 , 80.125 ,[[41,4],[61,4]],[0.15,0.3,0.28,0.2,0.28,0.3,0.17,0.18]],
[[58,60,64], 0.5 , 63.5 ,[[16,1],[70,1]],[0.2,0.18]],
[[57], 0.5 , 77 ,[[61,1],[141,1],[147,1]],[0.21,0.21,0.21]],
[[57,62,65], 0.5 , 79.2 ,[[30,2],[40,4],[145,4]],[0.32,0.17,0.17,0.31,0.17,0.21,0.21,0.17,0.3,0.21]],
[[57,60], 0.5 , 75.1111 ,[[153,9]],[0.2,0.15,0.28,0.22,0.18,0.28,0.79,0.21,0.18]],
[[57,60,65], 0.5 , 79.0526 ,[[5,2],[22,2],[26,4],[31,2],[37,2],[38,1],[58,2],[135,4]],[0.21,0.17,1.03,0.22,0.21,0.17,0.3,0.3,0.17,0.24,0.2,0.18,0.17,0.21,0.17,0.24,0.18,0.32,0.17]],
[[57,60,64], 0.5 , 78.5 ,[[12,2]],[0.31,0.32]],
[[57,60,62], 0.5 , 79 ,[[5,1],[37,1]],[0.15,0.18]],
[[56], 0.5 , 84.6667 ,[[5,2],[149,1]],[0.31,0.15,0.24]],
[[56,60,65], 0.5 , 76.5714 ,[[5,2],[37,2],[38,1],[44,2]],[0.17,0.21,0.22,0.32,0.18,0.17,0.17]],
[[55], 0.5 , 79 ,[[70,1],[161,1]],[0.21,0.21]],
[[55,60], 0.5 , 71.1667 ,[[36,5],[42,1]],[0.18,0.18,0.28,0.18,0.3,0.17]],
[[55,60,64], 0.5 , 75.5179 ,[[2,2],[3,1],[4,1],[7,1],[13,2],[16,5],[17,6],[19,3],[22,1],[30,4],[31,2],[34,2],[38,2],[42,1],[43,2],[44,5],[70,3],[73,6],[77,3],[135,4]],[0.18,0.18,0.21,0.18,0.18,0.28,0.18,0.32,0.17,0.21,0.32,0.21,0.22,0.18,0.28,0.97,0.28,0.29,0.18,0.31,0.2,0.21,0.15,0.17,0.17,0.17,1.03,0.28,0.28,0.18,0.18,0.17,0.14,0.18,0.28,0.28,0.17,0.17,0.18,0.17,0.28,0.17,0.28,0.3,0.15,0.18,0.28,0.28,0.21,0.18,0.3,0.17,0.18,0.28,0.2,0.18]],
[[55,59], 0.5 , 76.2857 ,[[24,1],[32,1],[42,2],[49,2],[82,2],[87,2],[91,2],[150,2]],[0.17,0.17,0.17,0.18,0.21,0.18,0.21,0.18,0.21,0.16,0.18,0.3,0.18,0.17]],
[[55,59,62], 0.5 , 76.2 ,[[9,1],[48,1],[91,1],[152,2]],[0.28,0.17,0.17,0.21,0.32]],
[[55,58], 0.5 , 75.625 ,[[16,4],[76,4]],[0.18,0.28,0.17,0.18,0.28,0.25,0.18,0.17]],
[[55,58,60], 0.5 , 73.125 ,[[43,7],[86,1]],[0.21,0.21,0.28,0.21,0.18,0.28,0.17,0.21]],
[[55,58,60,64], 0.5 , 75 ,[[43,1]],[0.17]],
[[54,60,63], 0.5 , 64.5 ,[[7,2]],[0.18,0.29]],
[[54,57,60], 0.5 , 85.3333 ,[[44,1],[62,2]],[0.29,0.21,0.17]],
[[54,57,60,63], 0.5 , 74.1667 ,[[13,2],[61,4]],[0.18,0.28,0.28,0.17,0.3,0.28]],
[[53], 0.5 , 74.125 ,[[5,2],[37,2],[43,4]],[0.28,0.17,0.34,0.18,0.28,0.28,0.21,0.21]],
[[53,57], 0.5 , 77 ,[[61,8],[94,4],[151,4]],[0.15,0.3,0.17,0.15,0.2,0.17,0.28,0.18,0.21,0.28,0.21,0.17,0.21,0.17,0.29,0.21]],
[[53,57,60,65], 0.5 , 75.8333 ,[[7,1],[13,1],[43,2],[61,2]],[0.18,0.28,0.21,0.32,0.18,0.18]],
[[53,55,59], 0.5 , 73.7857 ,[[22,4],[42,2],[49,3],[55,2],[136,1],[149,2]],[0.28,0.28,0.21,0.28,0.32,0.18,0.24,0.17,0.24,0.28,0.28,0.17,0.33,0.29]],
[[52], 0.5 , 70.8889 ,[[2,1],[4,1],[15,2],[16,1],[30,1],[86,1],[112,2]],[0.21,0.28,0.17,0.18,0.28,0.18,0.28,0.28,0.17]],
[[52,60], 0.5 , 79 ,[[16,1],[70,1]],[0.21,0.21]],
[[52,55,60], 0.5 , 76.7073 ,[[34,4],[42,1],[43,8],[86,9],[89,6],[93,2],[112,3],[114,1],[127,3],[135,4]],[0.34,0.18,0.28,0.28,0.18,1.03,0.18,0.18,1.03,0.18,1.03,0.28,0.32,0.17,0.21,0.18,0.2,0.28,0.28,0.32,0.18,0.17,0.21,0.18,0.32,0.21,0.8,0.31,0.31,0.18,0.17,0.2,0.17,0.31,0.25,0.21,0.18,0.3,0.17,0.18,0.29]],
[[52,55,60,74,77,86], 0.5 , 63 ,[[34,1]],[0.21]],
[[51], 0.5 , 79.5 ,[[0,1],[12,1]],[0.21,0.21]],
[[51,54,60], 0.5 , 70.6667 ,[[44,2],[45,2],[46,2]],[0.28,0.2,0.18,0.18,0.99,0.29]],
[[50], 0.5 , 75.875 ,[[1,1],[6,1],[13,3],[38,3],[39,1],[61,4],[93,1],[103,2]],[0.31,0.18,0.17,0.18,0.17,0.32,0.21,0.28,0.8,0.17,0.17,0.31,0.28,0.32,0.17,0.18]],
[[50,60], 0.5 , 79.6667 ,[[20,1],[78,2]],[0.17,0.17,0.21]],
[[50,57], 0.5 , 72 ,[[23,1],[81,2]],[0.18,0.18,0.21]],
[[50,54,57,60], 0.5 , 78.6667 ,[[31,2],[44,1]],[0.21,0.28,0.3]],
[[48], 0.5 , 76.9459 ,[[14,4],[16,1],[27,2],[28,4],[43,10],[49,1],[65,4],[70,1],[86,2],[92,4],[96,1],[127,3]],[0.31,0.33,0.18,0.21,0.18,1.03,0.15,0.17,0.18,0.32,0.18,0.31,0.32,0.22,0.21,0.17,0.17,0.17,0.21,0.32,0.18,0.18,0.17,0.3,0.17,0.18,0.21,0.2,0.32,0.3,0.28,0.31,0.17,0.21,0.31,0.18,0.32]],
[[48,72,76,84], 0.5 , 59 ,[[127,2]],[0.2,0.18]],
[[48,64], 0.5 , 60 ,[[43,1]],[0.18]],
[[48,60], 0.5 , 82.5556 ,[[31,1],[43,2],[44,1],[50,1],[89,1],[150,3]],[0.32,0.32,0.32,0.18,0.28,0.17,0.17,0.28,0.16]],
[[48,60,76,88], 0.5 , 66 ,[[44,1]],[0.28]],
[[48,55,60], 0.5 , 80 ,[[49,1],[150,2]],[0.21,0.18,0.28]],
[[47], 0.5 , 87.3333 ,[[60,2],[97,1]],[0.17,0.28,0.34]],
[[47,59], 0.5 , 78.8333 ,[[90,2],[91,3],[93,1]],[0.31,0.18,0.32,0.28,0.31,0.29]],
[[46], 0.5 , 73.75 ,[[57,4]],[0.23,0.17,0.28,0.17]],
[[46,58], 0.5 , 81.8571 ,[[16,4],[44,3]],[0.28,0.21,0.3,0.24,0.2,0.28,0.18]],
[[45], 0.5 , 77.7857 ,[[27,4],[37,4],[95,4],[102,2]],[0.21,0.21,0.32,0.31,0.21,0.3,0.18,0.17,0.18,0.2,0.21,0.28,0.18,0.17]],
[[45,57], 0.5 , 78 ,[[31,1],[44,2],[78,2],[93,3],[105,2],[142,1],[152,2]],[0.17,0.15,0.18,0.32,0.17,0.32,0.18,0.24,0.28,0.24,0.18,0.28,1.15]],
[[44], 0.5 , 83 ,[[108,1]],[0.31]],
[[44,56], 0.5 , 78.7143 ,[[43,4],[44,3]],[0.17,0.17,0.28,0.2,0.17,0.28,0.18]],
[[43], 0.5 , 74.8182 ,[[2,1],[4,2],[16,1],[22,2],[30,6],[33,3],[34,1],[49,5],[56,9],[60,2],[70,4],[88,3],[92,4],[110,1]],[0.21,0.28,0.18,0.28,0.2,0.32,0.18,0.28,0.28,0.17,0.17,0.17,0.28,0.28,0.18,0.17,1.03,0.28,0.22,0.17,0.17,0.21,0.18,0.17,0.17,0.18,0.17,0.17,0.21,0.18,0.34,0.17,0.18,0.18,0.28,0.2,0.17,0.18,0.32,0.28,1.02,0.17,0.29,1.04]],
[[43,55], 0.5 , 78.6207 ,[[16,4],[34,1],[35,2],[43,1],[49,3],[50,1],[85,2],[86,7],[117,1],[146,4],[153,1],[160,2]],[0.34,0.17,0.17,0.28,0.21,0.21,0.22,0.17,0.32,0.18,0.18,0.18,0.32,0.32,0.31,0.28,0.32,0.28,0.21,0.21,0.17,0.18,0.21,0.28,0.28,0.21,0.18,0.18,0.21]],
[[41], 0.5 , 74.25 ,[[10,2],[15,4],[51,2],[61,4],[95,4]],[0.31,0.28,0.18,0.28,0.18,0.17,0.17,0.2,0.28,0.3,0.17,0.17,0.21,0.17,0.21,0.15]],
[[41,53], 0.5 , 77.4737 ,[[29,1],[51,1],[66,2],[68,1],[104,9],[153,4],[160,1]],[0.28,0.15,0.28,0.21,0.21,1.03,0.17,0.28,0.79,0.21,0.18,0.18,0.21,0.17,0.21,0.2,0.18,0.21,0.2]],
[[40,52], 0.5 , 76.5625 ,[[33,2],[49,6],[64,2],[67,2],[88,1],[155,1],[157,2]],[0.32,0.28,0.28,0.22,0.18,0.18,0.21,0.28,1.03,0.79,0.21,0.17,0.18,0.21,0.81,0.18]],
[[39,51], 0.5 , 77.5 ,[[74,2]],[0.17,0.18]],
[[39,51,69,72,81], 0.5 , 76 ,[[74,1]],[0.17]],
[[38], 0.5 , 76.25 ,[[30,4]],[0.18,0.18,0.28,0.17]],
[[38,50], 0.5 , 72.6364 ,[[19,2],[62,2],[63,2],[69,2],[77,1],[84,2]],[0.14,0.18,0.18,0.18,0.17,0.18,0.28,0.18,0.21,0.22,0.29]],
[[38,50,66,72,78], 0.5 , 76 ,[[62,1]],[0.17]],
[[37,49], 0.5 , 78.5 ,[[22,2]],[0.17,0.21]],
[[36,48], 0.5 , 79.4286 ,[[14,2],[27,1],[30,2],[44,2],[65,2],[68,1],[88,1],[93,1],[94,1]],[0.17,0.28,0.29,0.21,0.28,0.32,0.21,0.18,0.28,0.18,0.18,0.3,0.29,0.22]],
[[31,43], 0.5 , 78 ,[[75,1]],[0.17]],
[[29,41], 0.5 , 84 ,[[43,1]],[0.17]]
];

	var node_index = 0;
	var bps = 60 / 60.0;  // Beats per second

	inf.do({

		var weight = 0;
		var random;
		var accumulator;
		var node = node_list[node_index];
		var temp=node[0];
		//var freq = node[0].midicps;
		//var dur = node[1] / bps;
		var dur = node[4][node[4].size.rand] / bps;
		var paths = node[3];
		var amp = node[2];

		// Get total statistical weight of connected nodes
		(0 .. paths.size - 1).do {|i| weight = weight + paths[i][1]};

		// Generate random value for choosing next node
		random = weight.rand;

		// Choose next node based on statistical weights
		accumulator = paths[0][1];

		node_index = block {|break|
			paths.size.do {|i|
				if ((random < accumulator), {
					break.value(paths[i][0])
					}, {
						accumulator = accumulator + paths[i + 1][1]
				})
			}
		};
m = MIDIOut(3);

		// Play
		//Synth(\my_synth, [\dur, dur, \amp, -3.dbamp, \freq, freq]);
		//Synth(\my_synth, [\dur, dur, \amp, amp/127.0, \freq, freq]);
		temp=node[0];
		//temp.postln;
		temp.size.do{|i| m.noteOn(16,temp[i] , amp-50);};
		temp.postln;
		node[0].postln;
		//m.noteOn(16, node[0], amp-50);
		//m.noteOn(16, 13, amp-50);
		//dur.wait+0.1.rand-0.05;
		dur.wait+0.1.rand-0.05;
		//m.noteOff(16, 13, amp-50);
		temp.size.do{|i|m.noteOff(16,temp[i] , amp-50);};
	})
});

t.start;
k=t;
u=t;
q=t;
w=t;
x=t;

);

////c
//node_list[2].postln;


//m = MIDIOut(3)
//
//

//m.allNotesOff(16);


