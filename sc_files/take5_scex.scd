(
MIDIClient.init;
MIDIIn.connectAll;
//MIDIOut.connect[];

// Create task
t = Task({


	// Set attributes of each node
	// [freq, dur, [[next_state, weighted_random],ï¿½]]
	var node_list =[
[[78], 0.5 , 55.25 ,[[43,4]],[0.04,0.06,0.09,0.02]],
[[77], 0.5 , 59.8333 ,[[43,4],[47,2]],[0.26,0.04,0.34,0.34,0.34,0.04]],
[[76], 0.5 , 58 ,[[43,1],[50,1]],[0.09,0.04]],
[[75], 0.5 , 65 ,[[2,1],[43,7],[50,4],[59,2],[71,2]],[0.02,0.09,0.34,0.03,0.09,0.04,0.09,0.03,0.34,0.34,0.03,0.04,0.34,0.03,0.04,0.04]],
[[74], 0.5 , 61 ,[[3,1],[71,1]],[0.34,0.04]],
[[73], 0.5 , 64.9 ,[[8,1],[43,10],[47,1],[56,2],[67,3],[74,2],[80,1]],[0.34,0.09,0.26,0.02,0.02,0.34,0.02,0.26,0.03,0.02,0.09,0.09,0.09,0.34,0.01,0.09,0.02,0.03,0.04,0.09]],
[[72], 0.5 , 50.5 ,[[5,1],[43,1],[56,5],[59,3]],[0.13,0.09,0.34,0.09,0.6,0.09,0.34,0.09,0.09,0.04]],
[[71], 0.5 , 55.3 ,[[8,1],[29,1],[36,1],[42,2],[43,6],[59,3],[71,2],[74,1],[77,2],[79,1]],[0.09,0.26,0.34,0.34,0.34,0.04,0.09,0.34,0.34,0.09,0.04,0.09,0.09,0.34,0.04,0.02,0.02,0.09,0.34,0.34]],
[[70], 0.5 , 54.3684 ,[[6,1],[7,2],[37,3],[38,6],[42,1],[43,7],[47,2],[50,1],[56,6],[59,6],[77,1],[78,1],[79,1]],[0.04,0.02,0.34,0.34,0.34,0.03,0.09,0.02,0.04,0.09,0.03,0.09,0.09,0.34,0.34,0.34,1.03,0.09,0.04,0.09,0.04,0.03,0.09,0.06,0.09,0.02,0.34,0.01,0.06,0.03,0.34,0.34,0.09,0.02,0.06,0.34,0.34,0.02]],
[[69], 0.5 , 56.12 ,[[10,8],[19,2],[43,3],[50,7],[56,3],[67,1],[78,1]],[0.34,0.34,0.34,0.09,0.03,0.34,0.04,0.03,0.04,0.02,0.04,0.02,0.02,0.06,0.03,0.04,0.04,0.09,0.34,0.34,0.06,0.09,0.34,0.03,0.26]],
[[68], 0.5 , 55.3696 ,[[9,3],[38,1],[43,9],[47,3],[50,17],[56,6],[59,5],[74,2]],[0.03,0.04,0.03,0.34,0.34,0.17,0.34,0.34,0.09,0.02,0.06,0.09,0.34,0.09,0.34,0.09,0.34,0.09,0.04,0.09,0.34,0.04,0.34,0.03,0.09,0.09,0.09,0.02,0.09,0.03,0.06,0.06,0.09,0.04,0.34,0.02,0.34,0.03,0.17,0.34,0.34,0.03,0.09,0.34,0.17,0.34]],
[[67], 0.5 , 50 ,[[43,1]],[0.09]],
[[66], 0.5 , 59.9783 ,[[14,1],[16,1],[23,2],[27,1],[37,2],[38,5],[43,16],[50,8],[56,5],[74,4],[81,1]],[0.34,0.02,0.03,0.09,0.04,0.03,0.09,0.03,0.26,0.02,0.09,0.09,0.04,0.09,0.02,0.34,0.34,0.26,0.34,0.09,0.34,0.34,0.04,0.34,0.34,0.34,0.26,0.34,0.04,0.04,0.04,0.02,0.34,0.04,0.09,0.02,0.34,0.09,0.03,0.02,0.34,0.34,0.04,0.02,0.02,0.03]],
[[66,68], 0.5 , 85 ,[[56,1]],[0.34]],
[[65], 0.5 , 52.8611 ,[[12,3],[15,8],[37,11],[43,6],[56,2],[59,2],[67,3],[74,1]],[0.09,0.09,0.04,0.04,0.09,0.09,0.09,0.26,0.09,0.03,0.06,0.34,0.03,0.02,0.04,0.34,0.03,0.04,0.34,0.04,0.06,0.03,0.09,0.09,0.34,0.04,0.04,0.09,0.34,0.02,0.34,0.02,0.09,0.34,0.04,0.09]],
[[63], 0.5 , 56.3968 ,[[16,2],[19,1],[38,4],[43,21],[45,1],[50,15],[56,8],[59,8],[74,3]],[0.09,0.04,0.09,0.34,0.09,0.09,0.03,0.04,0.09,0.26,0.03,0.02,0.03,0.09,0.03,0.34,0.06,0.02,0.06,0.34,0.26,0.34,0.04,0.34,0.04,0.34,0.34,0.34,0.03,0.03,0.02,0.26,0.34,0.34,0.09,0.26,0.06,0.69,0.04,0.34,0.34,0.34,0.04,0.04,0.34,0.34,0.34,0.03,0.09,0.34,0.34,0.09,0.09,0.34,0.34,0.03,0.34,0.34,0.04,0.04,0.34,0.34,0.04]],
[[61], 0.5 , 57.8636 ,[[15,2],[17,3],[19,8],[27,5],[37,8],[43,3],[50,2],[56,4],[59,3],[74,6]],[0.34,0.34,0.09,0.03,0.03,0.06,0.04,0.34,0.34,0.04,0.34,0.03,0.09,0.04,0.34,0.03,0.17,0.03,0.09,0.06,0.34,0.09,0.34,0.04,0.02,0.09,0.34,0.02,0.09,0.09,0.03,0.03,0.09,0.02,0.17,0.17,0.13,0.13,0.03,0.34,0.26,0.34,0.03,0.06]],
[[60], 0.5 , 64.6667 ,[[43,6],[50,1],[59,2]],[0.04,0.17,0.26,0.34,0.02,0.34,0.09,0.02,0.34]],
[[59], 0.5 , 56 ,[[16,1],[17,2],[59,2],[74,3]],[0.02,0.34,0.34,0.04,0.34,0.03,0.09,0.17]],
[[58], 0.5 , 58.0909 ,[[15,1],[19,2],[37,13],[38,2],[43,13],[48,1],[50,13],[56,7],[74,3]],[0.09,0.03,0.09,0.34,0.04,0.17,0.34,0.09,0.34,0.26,0.34,0.34,0.34,0.02,0.17,0.09,0.26,0.34,0.34,0.02,0.02,0.03,0.34,0.03,0.34,0.03,0.34,0.04,0.04,0.04,0.04,0.34,0.03,0.09,0.34,0.34,0.09,0.34,0.34,0.09,0.09,0.09,0.09,0.04,0.04,0.34,0.09,0.34,0.26,0.09,0.17,0.34,0.34,0.09,1.37]],
[[56], 0.5 , 53.15 ,[[7,2],[27,4],[43,6],[50,1],[56,2],[59,2],[74,3]],[0.34,0.04,0.03,0.09,0.09,0.34,0.09,0.04,0.26,0.04,0.09,0.02,0.34,0.34,0.03,0.34,0.02,0.04,0.09,0.17]],
[[54], 0.5 , 59.3333 ,[[5,1],[9,2],[43,3]],[0.09,0.09,0.09,0.09,0.34,0.34]],
[[54,63], 0.5 , 70.375 ,[[0,2],[7,2],[43,3],[59,1]],[0.04,0.03,0.09,0.34,0.34,0.34,0.34,0.09]],
[[54,58,63], 0.5 , 59.2353 ,[[37,8],[38,23],[43,34],[45,1],[48,4],[49,3],[56,2],[59,26],[61,1]],[0.09,0.02,0.03,0.17,0.03,0.34,0.06,0.04,0.34,0.34,0.34,0.09,0.03,0.09,0.26,0.04,0.09,0.09,0.09,0.34,0.03,0.34,0.09,0.04,0.34,0.03,0.04,0.09,0.03,0.02,0.34,0.13,0.09,0.34,0.26,0.03,0.02,0.34,0.26,0.06,0.09,0.34,0.02,0.09,0.04,0.04,0.34,0.02,0.03,0.34,0.04,0.09,0.04,0.34,0.34,0.04,0.02,0.03,0.04,0.02,0.06,0.09,0.09,0.06,0.34,0.09,0.34,0.06,0.02,0.34,0.04,0.04,0.03,0.06,0.34,0.06,0.34,0.06,0.34,0.26,0.17,0.34,0.26,0.03,0.34,0.02,0.09,0.09,0.02,0.03,0.26,0.17,0.03,0.04,0.03,0.34,0.09,1.03,0.34,0.09,0.02,0.09]],
[[53], 0.5 , 43.3333 ,[[8,1],[10,3],[56,2]],[0.03,0.03,1.37,0.04,0.09,0.03]],
[[53,61], 0.5 , 65.625 ,[[1,2],[8,2],[43,2],[59,2]],[0.02,0.17,0.34,0.04,0.06,0.34,0.34,0.09]],
[[53,58,61], 0.5 , 72 ,[[43,2],[56,3]],[0.17,0.02,0.03,0.34,0.02]],
[[53,56,61], 0.5 , 55.0698 ,[[43,16],[56,10],[59,1],[74,16]],[0.02,0.06,0.03,0.26,0.06,0.04,0.34,0.26,0.04,0.04,0.34,0.09,0.34,0.04,0.03,0.03,0.02,0.04,0.09,0.03,0.09,0.04,0.02,0.02,0.02,0.34,0.02,0.09,0.09,0.09,0.02,0.34,0.02,0.09,0.09,0.09,0.06,0.17,0.26,0.09,0.09,0.34,0.34]],
[[51], 0.5 , 49.375 ,[[3,2],[12,2],[43,1],[56,1],[59,2]],[1.03,0.02,0.06,0.26,0.34,0.34,0.34,0.09]],
[[51,59], 0.5 , 54.25 ,[[3,1],[10,1],[43,3],[59,3]],[0.03,0.04,0.34,0.06,0.34,0.04,0.06,0.01]],
[[51,56], 0.5 , 58.5 ,[[43,3],[59,1]],[0.09,0.04,0.06,0.34]],
[[49], 0.5 , 50.375 ,[[5,2],[43,4],[59,2]],[0.06,0.17,0.04,0.04,0.34,0.04,0.06,0.34]],
[[49,59], 0.5 , 57 ,[[14,1],[43,1]],[0.09,0.09]],
[[49,58], 0.5 , 55.5 ,[[5,1],[9,1],[49,1],[59,1]],[0.09,0.34,0.06,0.02]],
[[49,53,59], 0.5 , 57 ,[[43,1],[56,1]],[0.34,0.09]],
[[49,53,58], 0.5 , 71 ,[[5,1],[56,1]],[0.09,0.03]],
[[47], 0.5 , 56.625 ,[[3,2],[7,1],[43,4],[59,1]],[0.34,0.04,0.06,0.26,0.09,0.02,0.34,0.04]],
[[46], 0.5 , 58.3535 ,[[5,2],[7,1],[8,3],[12,9],[13,1],[14,6],[15,11],[16,3],[18,2],[19,3],[37,69],[38,25],[43,36],[49,1],[56,27],[59,12],[64,1],[68,3]],[0.03,0.34,0.34,0.34,0.04,0.03,0.03,0.09,0.03,0.09,0.09,0.34,0.02,0.34,0.34,0.34,0.17,0.03,0.34,0.02,0.34,0.34,0.34,0.02,0.02,0.34,0.34,0.02,0.09,0.09,0.04,0.34,0.34,0.34,0.34,0.26,0.09,0.06,0.09,0.03,0.34,0.17,0.17,0.34,0.26,0.04,0.04,0.04,0.09,0.03,0.26,0.02,0.17,0.26,0.09,0.04,0.34,0.34,0.09,0.09,0.09,0.02,0.09,0.04,0.06,0.34,0.04,0.17,0.34,0.09,0.09,0.09,0.03,0.03,0.09,0.6,0.26,0.04,0.06,0.09,0.04,0.03,0.34,0.34,0.34,0.34,0.34,0.13,0.03,0.03,0.09,0.09,0.09,0.03,0.09,0.09,0.34,0.06,0.03,0.09,0.09,0.26,0.04,0.03,0.34,0.09,0.02,0.03,0.03,0.04,0.04,0.04,0.02,0.04,0.03,0.09,0.09,0.09,0.09,0.34,0.26,0.03,0.34,0.34,0.34,0.26,0.02,0.34,0.04,0.03,0.34,0.03,0.03,0.02,0.09,0.34,0.34,0.34,0.34,0.09,0.09,0.34,0.04,0.03,0.34,0.03,0.09,0.34,0.34,0.02,0.34,0.09,0.34,0.03,0.34,0.09,0.09,0.34,0.03,0.03,0.09,0.02,0.34,0.09,0.03,0.09,0.34,0.02,0.03,0.06,0.34,0.34,0.09,0.09,0.06,0.34,0.34,0.34,0.06,0.34,0.04,0.34,0.34,0.34,0.34,0.34,0.06,0.34,0.02,0.34,0.09,0.04,0.34,0.17,0.34,0.34,0.34,0.06,0.34,0.34,0.04,0.34,0.09,0.17,0.03,0.09,0.03,0.34,0.34,0.34,0.34,0.06,0.02,0.09,0.34]],
[[46,54], 0.5 , 56.0775 ,[[2,1],[5,1],[8,1],[10,3],[11,1],[14,1],[15,9],[16,3],[20,2],[37,2],[43,65],[48,1],[59,39]],[0.04,0.09,0.34,0.34,0.04,0.04,0.04,0.06,0.34,0.09,0.09,0.04,0.09,0.34,1.03,0.26,0.09,0.34,0.26,0.03,0.04,0.09,0.09,0.26,0.09,0.34,0.26,0.06,0.34,0.03,0.34,0.09,0.34,0.34,0.04,0.04,0.02,0.09,0.09,0.09,0.02,0.26,0.17,0.34,0.04,0.34,0.02,0.09,0.34,0.02,1.03,0.06,0.06,0.03,0.04,0.09,0.09,0.6,0.03,0.02,0.02,0.34,0.02,0.34,0.04,0.02,0.34,0.09,0.34,1.03,0.34,0.09,0.09,0.26,0.09,0.09,0.02,0.34,0.03,0.34,0.09,0.09,0.34,0.09,0.02,0.09,0.03,0.34,0.09,0.34,0.09,0.34,0.01,0.06,0.34,0.04,0.34,0.34,0.04,0.34,0.34,0.34,0.06,0.17,0.04,0.34,0.34,0.17,0.34,0.26,0.03,0.34,0.09,0.34,0.02,0.34,0.26,0.34,0.17,0.34,0.02,0.03,0.34,0.09,0.26,0.04,0.04,0.09,0.09]],
[[46,54,66], 0.5 , 50 ,[[43,1]],[0.34]],
[[46,54,63], 0.5 , 92 ,[[59,1]],[0.03]],
[[46,50,56], 0.5 , 38.5 ,[[43,1],[59,1]],[0.34,0.04]],
[[44], 0.5 , 62.75 ,[[7,2],[20,4],[43,1],[50,1]],[0.13,0.34,0.03,0.34,0.09,0.09,0.34,0.06]],
[[42], 0.5 , 58.7678 ,[[0,2],[1,3],[3,7],[4,2],[5,4],[6,4],[7,7],[8,8],[9,10],[10,22],[12,6],[14,14],[15,10],[16,14],[17,1],[18,2],[19,13],[20,6],[21,6],[22,8],[23,68],[25,2],[26,4],[27,18],[28,2],[29,1],[30,1],[31,2],[33,1],[36,1],[37,25],[38,46],[39,1],[40,1],[43,147],[47,5],[48,5],[49,4],[50,147],[52,1],[55,1],[56,26],[58,4],[59,9],[61,1],[63,1],[65,1],[71,1],[74,9],[75,1],[76,2],[79,1]],[0.17,0.02,0.13,0.17,0.13,0.03,0.04,0.09,0.13,0.09,0.06,0.04,0.17,0.03,0.13,0.06,0.34,0.04,0.13,0.06,0.03,0.17,0.13,0.13,0.04,0.34,0.34,0.09,0.03,0.09,0.09,0.02,0.04,0.06,0.34,0.04,0.09,0.34,0.34,0.03,0.02,0.34,0.34,0.02,0.34,0.04,0.02,0.09,0.09,0.09,0.34,0.04,0.34,0.34,0.34,0.09,0.09,0.34,0.02,0.34,0.34,0.09,0.03,0.34,0.34,0.34,0.02,0.03,0.34,0.04,0.02,0.34,0.04,0.34,0.03,0.34,0.09,0.06,0.03,0.04,0.09,0.03,0.02,0.34,0.17,0.02,0.34,0.34,0.06,0.06,0.34,0.34,0.02,0.03,0.03,0.09,0.04,0.09,0.09,0.09,0.34,0.02,0.34,0.09,0.09,0.04,0.09,0.34,0.34,0.26,0.02,0.04,0.04,0.04,0.09,0.17,0.03,0.17,0.17,0.02,0.04,0.34,0.04,0.34,0.02,0.09,0.02,0.04,0.09,0.09,0.34,1.03,0.34,0.34,0.09,0.04,0.09,0.09,0.09,0.03,0.03,0.04,0.04,0.34,0.26,0.09,0.09,0.09,0.34,0.06,0.03,0.09,0.09,0.02,0.34,0.03,0.34,0.26,0.26,0.09,0.04,0.34,0.26,0.04,0.26,0.03,0.09,0.02,0.34,0.34,0.34,0.26,0.34,0.04,0.26,0.09,0.09,0.03,0.02,0.34,0.26,0.26,0.09,0.34,0.26,0.34,0.26,0.04,0.09,0.09,0.09,0.34,0.04,0.03,0.26,0.26,0.09,0.03,0.09,0.34,0.04,0.04,0.34,0.17,0.04,0.34,0.06,0.04,0.34,1.03,0.02,0.03,0.34,0.03,0.09,0.09,0.09,0.34,0.09,0.09,0.34,0.04,0.02,0.03,0.34,0.09,0.34,0.34,0.04,0.17,0.17,0.03,0.34,0.34,0.34,0.04,0.02,0.03,0.09,0.34,0.34,0.09,0.09,0.02,0.34,0.06,0.04,1.03,0.26,0.09,0.09,0.02,0.03,0.04,0.34,0.34,0.34,0.09,0.03,0.02,0.04,0.34,0.34,0.02,0.09,0.09,0.09,0.34,0.09,0.02,0.09,0.09,0.09,0.51,0.03,0.02,0.09,0.34,0.26,0.34,0.04,0.34,0.34,0.09,0.34,0.34,0.34,0.04,0.09,0.26,0.04,0.09,0.04,0.02,0.09,0.03,0.09,0.34,0.34,0.03,0.34,0.34,0.09,0.34,0.02,0.34,0.02,0.03,0.03,0.09,0.06,0.09,0.02,0.09,0.09,0.09,0.04,0.34,0.34,0.34,1.03,0.02,0.04,0.09,0.79,0.03,0.34,0.04,0.04,0.26,0.34,0.34,0.34,0.04,0.34,0.02,0.09,0.09,0.09,0.34,0.04,0.09,0.26,0.26,0.34,0.09,0.09,0.09,0.09,0.04,0.34,0.06,0.06,0.34,0.34,0.03,0.09,0.34,0.34,0.09,0.34,0.34,0.26,0.02,0.09,0.09,0.34,0.26,0.09,0.09,0.09,0.03,0.09,0.34,0.03,0.04,0.04,0.26,0.6,0.03,0.34,0.04,0.34,0.26,0.04,0.34,0.34,0.09,0.26,0.34,0.02,0.02,1.03,0.03,0.34,0.34,0.26,0.03,0.09,0.09,0.09,0.26,0.09,0.34,0.02,0.02,0.34,0.26,0.04,0.09,0.34,0.34,0.04,0.26,0.03,0.03,0.09,0.09,0.02,0.34,0.34,0.09,0.34,0.06,0.06,0.09,0.09,0.04,0.09,0.02,0.03,0.09,0.09,0.09,3.42,0.09,0.09,0.04,0.34,0.06,0.06,0.06,0.09,0.09,0.09,0.34,0.04,0.03,0.09,0.03,0.09,0.09,0.04,0.02,0.34,0.04,0.34,0.09,0.34,0.04,0.34,0.09,0.09,0.09,0.34,0.04,0.34,0.04,0.34,0.04,0.09,0.09,0.03,0.02,0.09,0.02,0.04,0.04,0.04,0.34,0.04,0.03,0.34,0.34,0.34,0.09,0.09,0.02,0.34,0.34,0.09,0.01,0.34,0.03,0.34,0.06,0.09,0.09,0.34,0.34,0.34,0.01,0.09,0.06,0.09,0.34,0.02,0.09,0.03,0.34,0.34,0.34,0.02,0.09,0.09,0.34,0.03,0.34,0.09,0.01,0.04,0.34,0.04,0.04,0.34,0.09,0.34,0.02,0.34,0.04,0.03,0.06,0.04,0.06,0.09,0.09,0.03,0.02,0.06,0.03,0.34,0.06,0.34,0.09,0.09,0.09,0.02,0.34,0.34,0.02,0.09,0.03,0.34,0.03,0.34,0.34,0.09,0.03,0.02,0.03,0.34,0.34,0.09,0.03,0.02,0.06,0.34,0.06,0.34,0.34,0.04,0.34,0.34,0.04,0.09,0.09,0.34,0.06,0.34,0.34,0.03,0.34,0.04,0.02,0.34,0.04,0.09,0.03,0.34,0.34,0.09,0.06,0.06,0.34,0.34,0.03,0.09,0.03,0.34,0.34,0.06,0.06,0.06,0.01,0.03,0.02,0.34,0.06,0.34,0.04,0.34,0.03,0.34,0.04,0.06,0.13,0.09,0.34,0.04,0.04,0.02,0.17,0.09,0.04,0.34,1.03,0.02,0.09,0.09,0.34,0.04,0.09,0.34,0.04,1.03,0.26,0.03,0.09,0.34,0.03,0.34,0.09,0.03,0.09,0.34,0.34,0.06,0.09,0.09,0.34,0.04,0.17,0.02,0.17,0.02,0.34,0.34,0.34,0.02,0.09,0.09,0.09,0.34,0.06,0.06,0.34,0.34,0.02,0.34,0.03,0.09,0.34,0.02,0.34,0.04,0.26,0.09,0.09,0.03,0.34,0.34,0.04,0.03,0.02,0.34,0.34,0.26,0.26,0.02]],
[[42,54,58,63], 0.5 , 40 ,[[43,1]],[0.02]],
[[42,49], 0.5 , 57 ,[[12,1],[43,1]],[0.34,0.04]],
[[42,46], 0.5 , 36 ,[[37,1]],[0.03]],
[[41], 0.5 , 65.5294 ,[[8,1],[24,5],[25,6],[35,2],[43,2],[59,1]],[0.17,0.09,0.09,0.26,0.34,0.03,0.34,0.04,0.04,0.09,0.09,0.09,0.03,0.02,0.09,0.03,0.06]],
[[40], 0.5 , 59.5185 ,[[9,1],[27,2],[31,1],[43,7],[48,7],[50,2],[56,3],[58,1],[59,3]],[0.03,0.13,0.03,0.06,0.06,0.06,0.34,0.34,0.69,0.34,0.02,0.34,0.06,0.34,0.09,0.02,0.06,0.09,0.09,0.04,0.09,0.09,0.34,0.34,0.09,0.03,0.04]],
[[40,42], 0.5 , 59.4545 ,[[8,1],[23,1],[37,2],[43,3],[48,1],[50,2],[66,1]],[0.17,0.17,0.09,0.02,0.09,0.04,0.04,0.04,0.34,0.03,0.34]],
[[39], 0.5 , 57.0997 ,[[1,1],[3,1],[5,1],[6,3],[8,13],[9,3],[10,3],[12,5],[14,3],[15,12],[19,14],[20,4],[28,6],[29,6],[30,3],[31,1],[43,93],[44,1],[48,2],[49,1],[50,141],[51,1],[52,1],[53,2],[54,1],[56,9],[59,49],[60,1]],[0.03,0.17,0.06,0.04,0.09,0.09,0.06,0.34,0.09,0.04,0.04,0.09,0.34,0.04,0.34,0.34,0.04,0.09,0.34,0.34,0.34,0.04,0.09,0.03,0.34,0.34,0.34,0.02,0.34,0.06,0.06,0.34,0.09,0.34,0.04,0.17,0.09,0.34,0.34,0.26,1.03,0.09,0.09,0.04,0.34,0.02,0.03,0.03,0.09,0.04,0.04,0.04,0.34,0.26,0.04,0.09,0.03,0.09,0.04,0.09,0.34,0.34,0.34,0.26,0.03,0.09,0.26,0.09,0.09,0.03,0.04,0.02,0.04,0.09,0.34,0.34,0.34,0.34,1.03,0.09,0.09,0.02,0.34,0.26,0.17,0.17,0.03,0.34,0.06,0.04,0.09,0.02,0.09,0.04,0.03,0.04,0.34,1.03,0.03,0.09,0.04,0.02,0.09,0.17,0.34,0.03,0.04,0.34,0.34,0.04,0.09,0.09,0.03,0.03,0.04,0.06,0.34,0.34,0.02,0.34,0.04,0.09,0.34,0.04,0.34,0.04,0.09,0.09,0.34,0.02,0.26,0.34,0.03,0.26,0.34,0.04,0.02,0.09,0.34,0.04,0.04,0.34,0.04,0.03,0.34,0.6,0.04,0.03,0.02,0.26,0.09,0.34,0.09,0.04,0.03,0.03,0.34,0.09,0.09,0.09,0.09,0.09,0.04,0.34,0.03,0.03,0.34,0.04,0.09,0.09,0.34,0.26,0.03,0.09,0.34,0.34,0.02,0.09,0.34,0.04,0.26,0.34,0.04,0.03,0.02,0.34,0.03,0.03,0.02,0.34,0.06,0.04,0.04,0.34,0.09,0.09,0.09,0.04,0.03,0.09,0.34,0.03,0.06,0.34,0.02,0.09,0.34,0.04,0.26,0.69,0.04,0.09,0.26,0.04,0.09,0.26,0.34,0.34,0.02,0.09,0.09,0.02,0.26,0.04,0.09,0.09,0.03,0.34,0.04,0.34,0.06,0.03,0.04,0.06,0.09,0.09,0.09,0.02,0.26,0.26,0.03,0.03,0.34,0.06,0.09,0.34,0.09,0.02,0.34,0.34,0.09,0.09,0.02,0.34,0.34,0.34,0.34,0.02,0.34,0.34,0.34,0.34,0.09,0.09,0.03,0.34,0.01,0.04,0.09,0.04,0.34,0.34,0.09,0.34,0.34,0.34,0.06,0.04,0.03,0.09,0.34,0.34,0.34,0.34,0.02,0.09,0.04,0.06,0.06,0.04,0.09,0.03,0.34,0.06,0.06,0.06,0.03,0.09,0.04,0.09,0.03,0.09,0.25,0.34,0.09,0.09,0.04,0.04,0.04,0.02,0.09,0.02,0.04,0.09,0.34,0.04,0.06,0.04,0.34,0.06,0.06,0.06,0.34,0.34,0.34,0.04,0.02,0.09,0.03,0.04,0.34,0.34,0.34,0.03,0.04,0.34,0.34,0.06,0.09,0.02,0.04,0.02,0.34,0.04,0.06,0.04,0.09,0.09,0.03,0.34,0.09,0.02,0.03,0.34,0.09,0.17,0.34,0.09,0.17,0.02,0.04,0.09,0.09,0.26,0.04,0.04,0.09,0.04,0.06,0.09,0.34,0.04,0.09,0.09,0.09,0.34,0.34,0.34,0.26,0.03,0.04]],
[[39,68], 0.5 , 50 ,[[43,1]],[0.34]],
[[39,65], 0.5 , 50 ,[[43,1],[50,1]],[0.34,0.09]],
[[39,63], 0.5 , 75.3333 ,[[43,2],[50,1]],[0.02,0.34,0.03]],
[[39,58], 0.5 , 40 ,[[43,1]],[0.02]],
[[39,42], 0.5 , 64 ,[[23,1]],[0.09]],
[[38], 0.5 , 57.7748 ,[[3,1],[5,3],[6,1],[8,3],[9,3],[10,1],[12,2],[14,1],[15,7],[16,3],[18,4],[19,2],[20,3],[26,1],[27,9],[42,1],[43,73],[48,3],[49,1],[50,12],[53,1],[56,44],[57,1],[59,29],[68,1],[69,1],[74,9],[77,1],[80,1]],[0.03,0.09,0.06,0.02,0.04,0.06,0.06,0.13,0.09,0.34,0.02,0.09,0.03,0.09,0.34,0.34,0.34,0.04,0.09,0.09,0.34,0.34,0.34,0.34,0.34,0.09,0.04,0.09,0.09,0.02,0.34,0.02,0.34,0.09,0.09,0.34,0.03,0.09,0.03,0.34,0.03,0.09,0.26,0.09,0.26,0.34,0.03,0.09,0.34,0.26,0.34,0.04,0.34,0.02,0.09,0.04,0.09,0.09,0.34,0.34,0.09,0.03,0.02,0.09,0.09,0.02,0.02,0.09,0.03,0.06,0.04,0.09,0.34,0.09,0.09,0.34,0.04,0.02,0.26,0.34,0.09,0.09,0.34,0.03,0.02,0.02,0.34,0.34,0.02,0.03,0.34,0.04,0.02,0.34,0.09,0.02,0.34,0.09,0.04,0.34,0.09,0.34,0.34,0.02,0.34,0.34,0.06,0.03,0.09,0.34,0.34,0.09,0.04,0.34,0.26,0.09,0.03,0.09,0.09,0.09,0.34,0.13,0.34,0.34,0.09,0.03,0.34,0.34,0.34,0.09,0.09,0.04,0.34,0.26,0.34,0.34,0.34,0.06,0.03,0.04,0.34,0.01,0.09,0.34,0.34,0.02,0.03,0.02,0.34,0.34,0.03,0.09,0.03,0.04,0.34,0.34,0.34,0.34,0.09,0.09,0.03,0.34,0.34,0.04,0.02,0.34,0.09,0.34,0.34,0.03,0.03,0.09,0.02,0.34,0.09,0.09,0.34,0.34,0.02,0.09,0.09,0.34,0.03,0.34,0.09,0.09,0.09,0.09,0.02,0.34,0.06,0.09,0.09,0.03,0.09,0.09,0.03,0.34,0.04,0.34,0.04,0.03,0.34,0.34,0.04,0.04,0.34,0.34,0.04,1.03,0.02,0.09,0.34,0.09,1.03,0.09,0.09,0.03,0.03,0.04,0.04,0.26]],
[[38,53,58,61], 0.5 , 27 ,[[43,1]],[0.04]],
[[38,49], 0.5 , 62.6667 ,[[31,1],[43,3],[48,1],[56,1]],[0.13,0.04,0.17,0.03,0.06,0.17]],
[[38,42], 0.5 , 58.8326 ,[[5,2],[6,1],[7,3],[8,2],[9,2],[10,4],[12,13],[14,9],[15,1],[16,15],[19,9],[20,1],[23,30],[24,1],[27,4],[37,65],[38,17],[43,10],[47,1],[50,3],[56,16],[61,2],[64,1],[67,2],[69,1],[74,11],[81,1]],[0.13,0.17,0.09,0.06,0.04,0.34,0.34,0.09,0.03,0.34,0.34,0.03,0.34,0.03,0.34,0.09,0.09,0.09,0.09,0.34,0.09,0.03,0.26,0.26,0.17,0.34,0.34,0.34,0.34,0.09,0.09,0.09,0.34,0.26,0.04,0.34,0.34,0.34,0.04,0.06,0.09,0.04,0.34,0.26,0.03,0.02,0.04,0.26,0.13,0.09,0.34,0.03,0.02,0.26,0.34,0.06,0.26,0.34,0.34,0.34,0.03,0.02,0.04,0.34,0.02,0.03,0.09,0.34,0.09,0.09,0.34,0.34,0.04,1.03,0.03,0.09,0.26,0.03,0.09,0.06,0.03,0.26,0.06,0.06,0.04,0.34,0.34,0.02,0.09,0.09,0.34,0.26,0.34,0.26,0.03,0.02,0.34,0.06,0.03,0.34,0.04,0.34,0.06,0.02,0.03,0.02,0.34,0.09,0.34,0.09,0.09,0.34,0.03,0.04,0.34,0.26,0.02,0.34,0.03,0.06,0.09,0.34,0.02,0.09,0.09,0.09,0.04,0.04,0.34,0.34,0.03,0.09,0.02,0.34,0.09,0.09,0.34,0.34,0.26,0.04,0.34,0.34,0.34,0.34,0.09,0.09,0.02,0.34,0.34,0.34,0.04,0.09,0.34,0.09,0.06,0.34,0.06,0.06,0.06,0.09,0.02,0.06,0.04,0.06,0.06,0.34,0.34,0.09,0.34,0.09,0.09,0.04,0.02,0.34,0.09,0.34,0.02,0.09,0.34,0.34,0.34,0.34,0.04,0.34,0.34,0.34,0.09,0.03,0.17,0.09,0.34,0.09,0.34,0.09,0.34,0.34,0.17,0.03,0.06,0.34,0.04,0.34,0.06,0.03,0.34,0.17,0.03,0.34,0.34,0.09,0.09,0.09,0.34,0.09,0.06,0.34,0.17,0.04,0.34,0.04,0.02,0.34,0.04,0.26,0.09,0.09,0.02]],
[[38,42,54,58,63], 0.5 , 84 ,[[62,1]],[0.02]],
[[38,42,49], 0.5 , 57.2 ,[[37,1],[43,3],[61,1]],[0.03,0.09,0.17,0.04,0.09]],
[[38,42,46], 0.5 , 64 ,[[56,1]],[0.34]],
[[38,42,46,54], 0.5 , 50 ,[[46,1]],[0.09]],
[[38,40], 0.5 , 65 ,[[56,1],[59,1]],[0.34,0.06]],
[[38,40,42], 0.5 , 56 ,[[31,1]],[0.04]],
[[38,40,42,49], 0.5 , 50 ,[[43,1]],[0.09]],
[[37], 0.5 , 54.8182 ,[[31,2],[32,2],[33,3],[34,2],[43,2]],[1.03,0.04,0.34,0.02,0.06,0.02,0.04,0.06,0.04,0.09,0.02]],
[[36], 0.5 , 67.25 ,[[56,1],[59,1],[72,1],[73,1]],[0.6,0.34,0.09,0.09]],
[[36,42], 0.5 , 64 ,[[71,2]],[0.03,0.03]],
[[36,38], 0.5 , 84 ,[[48,1]],[0.02]],
[[35], 0.5 , 51.5 ,[[36,6],[48,1],[56,1]],[0.09,0.04,0.34,0.09,0.03,0.04,0.34,0.34]],
[[35,49], 0.5 , 50 ,[[59,1]],[0.09]],
[[35,38,42], 0.5 , 50 ,[[70,1]],[0.04]],
[[34], 0.5 , 56.9691 ,[[3,1],[5,1],[8,1],[10,1],[12,5],[15,2],[16,2],[17,3],[19,1],[37,5],[41,2],[43,30],[50,1],[56,18],[59,2],[74,22]],[0.09,0.02,0.34,0.02,0.09,0.09,0.02,0.02,0.09,0.34,0.04,0.04,0.09,0.34,0.09,0.34,0.26,0.09,0.34,0.09,0.26,0.34,0.34,0.34,0.09,1.03,0.34,0.04,0.13,0.09,0.09,0.02,0.09,0.09,0.09,0.6,0.34,0.04,0.34,0.13,0.09,0.09,0.34,0.09,0.6,0.34,0.26,0.04,0.34,0.26,0.04,0.04,0.03,0.34,0.02,0.34,0.06,0.34,0.04,0.13,0.34,0.34,0.34,0.04,0.03,0.34,0.34,0.34,0.04,0.06,0.09,0.09,0.02,0.06,0.34,0.34,0.09,0.09,0.09,0.17,0.03,0.09,0.09,0.09,0.09,0.34,0.34,0.34,0.02,0.03,0.04,0.03,0.26,0.06,0.09,0.34,0.34]],
[[34,61], 0.5 , 60 ,[[56,1]],[0.09]],
[[34,56], 0.5 , 55 ,[[56,2]],[0.09,0.34]],
[[32], 0.5 , 62 ,[[42,4]],[0.34,0.02,0.09,0.04]],
[[30], 0.5 , 55 ,[[43,2]],[0.34,0.04]],
[[29], 0.5 , 64.6667 ,[[47,3]],[0.09,0.04,0.04]],
[[25], 0.5 , 62.5 ,[[67,2]],[0.26,0.09]],
[[22], 0.5 , 60 ,[[74,2]],[0.04,0.09]]
];

	var node_index = 0;
	var bps = 60 / 60.0;  // Beats per second

	inf.do({

		var weight = 0;
		var random;
		var accumulator;
		var node = node_list[node_index];
		var temp=node[0];
		//var freq = node[0].midicps;
		//var dur = node[1] / bps;
		var dur = node[4][node[4].size.rand] / bps;
		var paths = node[3];
		var amp = node[2];

		// Get total statistical weight of connected nodes
		(0 .. paths.size - 1).do {|i| weight = weight + paths[i][1]};

		// Generate random value for choosing next node
		random = weight.rand;

		// Choose next node based on statistical weights
		accumulator = paths[0][1];

		node_index = block {|break|
			paths.size.do {|i|
				if ((random < accumulator), {
					break.value(paths[i][0])
					}, {
						accumulator = accumulator + paths[i + 1][1]
				})
			}
		};
m = MIDIOut(10);

		// Play
		//Synth(\my_synth, [\dur, dur, \amp, -3.dbamp, \freq, freq]);
		//Synth(\my_synth, [\dur, dur, \amp, amp/127.0, \freq, freq]);
		temp=node[0];
		//temp.postln;
		temp.size.do{|i| m.noteOn(16,temp[i] , amp);};
		temp.postln;
		node[0].postln;
		//m.noteOn(16, node[0], amp-50);
		//m.noteOn(16, 13, amp-50);
		//dur.wait+0.1.rand-0.05;
		dur.wait+0.1.rand-0.05;
		//m.noteOff(16, 13, amp-50);
		temp.size.do{|i|m.noteOff(16,temp[i] , amp-50);};
	})
});

t.start;


);

////c
//node_list[2].postln;


//m = MIDIOut(3)
//
//

//m.allNotesOff(16);


