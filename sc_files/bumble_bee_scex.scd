(
MIDIClient.init;
MIDIIn.connectAll;
//MIDIOut.connect[];

// Create task
t = Task({


	// Set attributes of each node
	// [freq, dur, [[next_state, weighted_random],ï¿½]]
	var node_list =[
[[94], 0.5 , 78.8 ,[[1,5]],[0.1,0.1,0.08,0.1,0.1]],
[[93], 0.5 , 78.8333 ,[[0,1],[2,5]],[0.1,0.1,0.05,0.1,0.1,0.1]],
[[92], 0.5 , 71.5882 ,[[1,1],[3,3],[16,2],[18,2],[84,1],[114,1],[130,2],[144,5]],[0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.05,0.05,0.1,0.1,0.1,0.1]],
[[91], 0.5 , 83 ,[[2,3],[4,4],[132,1]],[0.21,0.21,0.1,0.1,0.1,0.05,0.1,0.1]],
[[90], 0.5 , 79 ,[[3,4],[5,3],[52,1],[71,1],[153,2]],[0.21,0.1,0.1,0.1,0.1,0.1,0.05,0.1,0.1,0.1,0.1]],
[[89], 0.5 , 77.5 ,[[0,2],[3,1],[4,1],[6,2]],[0.1,0.1,0.1,0.1,0.1,0.1]],
[[88], 0.5 , 92 ,[[5,3],[7,1],[42,1],[43,1],[53,1]],[0.1,0.1,0.1,0.1,0.05,0.05,0.1]],
[[87], 0.5 , 68.4444 ,[[6,1],[8,4],[29,2],[34,2]],[0.1,0.1,0.1,0.1,0.1,0.05,0.05,0.1,0.1]],
[[86], 0.5 , 80.7143 ,[[7,1],[9,4],[28,1],[30,1]],[0.1,0.05,0.05,0.1,0.1,0.05,0.05]],
[[85], 0.5 , 74.1053 ,[[8,1],[10,8],[68,1],[86,1],[124,4],[131,1],[141,1],[152,1],[155,1]],[0.1,0.1,0.1,0.05,0.05,0.05,0.05,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.1,0.1,0.1]],
[[84], 0.5 , 67.9333 ,[[9,7],[11,8]],[0.1,0.1,0.1,0.05,0.05,0.05,0.1,0.1,0.1,0.1,1.67,0.1,0.1,0.1,0.1]],
[[83], 0.5 , 65.7059 ,[[10,7],[12,4],[83,1],[119,1],[125,1],[133,2],[135,1]],[0.1,0.1,0.05,0.05,0.05,0.05,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1]],
[[82], 0.5 , 61.6154 ,[[7,1],[13,10],[45,1],[158,1]],[0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.1,0.05,0.1,1.67,0.08,0.1]],
[[81], 0.5 , 62.9333 ,[[11,2],[12,2],[14,9],[82,1],[138,1]],[0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1]],
[[80], 0.5 , 61.7143 ,[[13,4],[15,16],[51,2],[62,2],[63,2],[72,2],[108,2],[113,2],[115,1],[145,2],[147,1],[150,2],[161,2],[162,2]],[0.1,0.1,0.21,0.1,0.05,0.05,0.1,0.05,0.1,0.1,0.1,0.1,0.1,0.1,0.83,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.1,0.05,0.1,0.1,0.1,0.1,0.1]],
[[79], 0.5 , 61.617 ,[[14,12],[15,12],[17,17],[18,6]],[0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.21,0.1,0.1,0.21,0.1,0.08,0.05,0.05,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,1.25,0.83,0.1,0.1,0.42,0.1,0.1,0.21,0.21,0.1,0.1,0.1,0.21,0.21,0.1,0.21,0.1,0.05,0.1,0.08,0.1,0.1]],
[[79,91], 0.5 , 74.6667 ,[[14,2],[17,1]],[0.08,0.08,0.1]],
[[78], 0.5 , 64.0213 ,[[15,13],[16,1],[19,14],[22,1],[46,2],[56,2],[67,2],[75,2],[76,4],[106,2],[122,2],[156,2]],[0.08,0.21,0.1,0.05,0.1,0.1,0.05,0.05,0.05,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.42,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.21,0.21,0.21,0.21,0.1,0.1,0.1,0.21,0.05,0.05,0.1,0.08,0.21,0.21,0.1,0.1]],
[[78,80], 0.5 , 64.25 ,[[2,4],[15,4]],[0.1,0.1,0.21,0.1,0.52,0.1,0.1,0.1]],
[[77], 0.5 , 64.2727 ,[[12,2],[17,5],[23,15]],[0.21,0.21,0.05,0.05,0.1,0.1,0.1,1.67,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.21,0.1,0.05,0.1,0.1]],
[[77,94], 0.5 , 96 ,[[17,1]],[0.1]],
[[77,91], 0.5 , 84 ,[[23,1]],[0.1]],
[[77,88], 0.5 , 99 ,[[23,1]],[0.1]],
[[76], 0.5 , 71 ,[[19,8],[20,1],[21,1],[24,8],[26,1],[47,1],[69,2],[100,2],[110,2],[159,2]],[0.21,0.1,0.05,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.21,0.1,0.1,0.1,0.21,0.1,0.1,0.1]],
[[75], 0.5 , 65 ,[[14,2],[23,4],[27,17],[77,1],[80,2],[90,2],[91,2],[99,2],[146,1]],[0.1,0.1,0.1,0.21,0.21,0.21,0.08,0.1,0.21,0.1,0.1,0.05,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1]],
[[75,98], 0.5 , 105 ,[[23,1]],[0.1]],
[[75,94], 0.5 , 91 ,[[27,1]],[0.1]],
[[74], 0.5 , 65.186 ,[[24,6],[25,1],[27,12],[31,13],[32,1],[34,6],[48,2],[95,2]],[0.1,0.1,0.08,0.21,0.21,0.21,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.21,0.1]],
[[74,87], 0.5 , 85 ,[[6,1]],[0.1]],
[[74,86], 0.5 , 56 ,[[24,2]],[0.1,0.1]],
[[74,85], 0.5 , 100 ,[[8,1]],[0.05]],
[[73], 0.5 , 64.0909 ,[[27,6],[35,14],[80,2],[94,2],[104,2],[116,2],[123,2],[126,10],[128,2],[142,2]],[0.1,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.21,0.21,0.21,0.1,0.21,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.1,0.1,0.21,0.83,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1]],
[[73,98], 0.5 , 97 ,[[27,1]],[0.1]],
[[73,85], 0.5 , 55 ,[[88,1]],[0.1]],
[[73,75], 0.5 , 63.25 ,[[7,4],[27,4]],[0.1,0.1,0.21,0.21,0.1,0.1,0.1,0.1]],
[[72], 0.5 , 63.1379 ,[[31,13],[37,16]],[0.1,0.1,0.21,0.21,0.1,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.21,0.1,0.21]],
[[72,84], 0.5 , 56 ,[[73,1]],[0.1]],
[[71], 0.5 , 63.5588 ,[[35,13],[41,10],[120,4],[121,4],[139,2],[143,1]],[0.1,0.21,0.21,0.21,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.08,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.21]],
[[71,83], 0.5 , 58.6 ,[[54,4],[65,1]],[0.1,0.05,0.1,0.1,0.21]],
[[71,81], 0.5 , 57.375 ,[[54,4],[55,4]],[0.1,0.1,0.05,0.05,0.08,0.1,0.1,0.1]],
[[71,79], 0.5 , 51.5 ,[[55,2]],[0.1,0.1]],
[[70], 0.5 , 61.7568 ,[[24,2],[37,3],[44,19],[57,1],[65,4],[103,2],[129,4],[154,2]],[0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.05,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.21,0.1,0.21,0.1,0.21,0.1,0.08,0.08,0.1,0.21]],
[[70,89], 0.5 , 97 ,[[4,1]],[0.1]],
[[70,87], 0.5 , 94 ,[[8,1]],[0.05]],
[[69], 0.5 , 63.1852 ,[[41,8],[49,14],[127,4],[139,1]],[0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.21,0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.1]],
[[69,81], 0.5 , 57 ,[[41,1],[50,1]],[0.21,0.1]],
[[69,79], 0.5 , 76 ,[[17,2]],[0.1,0.1]],
[[69,74,77,81], 0.5 , 78 ,[[17,1]],[0.83]],
[[69,73], 0.5 , 74 ,[[35,2]],[0.1,0.1]],
[[68], 0.5 , 61.7255 ,[[44,6],[50,1],[51,17],[81,4],[85,1],[109,4],[134,2],[136,4],[147,10],[151,2]],[0.1,0.1,0.1,0.08,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.08,0.1,0.05,0.05,0.1,1.67,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.21,0.1,0.21,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.21,0.08]],
[[68,70], 0.5 , 57 ,[[12,1],[45,1]],[0.21,0.1]],
[[67], 0.5 , 62.2075 ,[[15,2],[49,11],[51,12],[58,21],[62,6],[147,1]],[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.08,0.1,0.21,0.21,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.21,0.21,0.21,0.1,0.1,0.1]],
[[67,91], 0.5 , 126 ,[[4,1]],[0.1]],
[[67,89], 0.5 , 99 ,[[6,1]],[0.05]],
[[67,82], 0.5 , 55.75 ,[[38,4],[39,4]],[0.1,0.1,0.05,0.05,0.1,0.1,0.1,0.1]],
[[67,80], 0.5 , 54.5 ,[[39,4],[40,2],[96,2]],[0.1,0.05,0.05,0.05,0.1,0.1,0.1,0.1]],
[[67,79], 0.5 , 58 ,[[14,2]],[0.05,0.1]],
[[67,69], 0.5 , 50 ,[[38,1]],[0.21]],
[[66], 0.5 , 65.5833 ,[[51,15],[64,13],[137,4],[140,4]],[0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.21,0.08,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.21,0.1,0.21,0.21,0.1,0.21,0.1,0.21,0.1,0.1]],
[[66,78], 0.5 , 62 ,[[78,4]],[0.1,0.1,0.1,0.1]],
[[66,76], 0.5 , 58 ,[[78,4],[79,4]],[0.21,0.1,0.21,0.1,0.1,0.1,0.1,0.1]],
[[66,74], 0.5 , 55 ,[[79,2]],[0.21,0.21]],
[[66,68], 0.5 , 59 ,[[14,4],[51,4]],[0.21,0.1,0.1,0.21,0.1,0.1,0.1,0.1]],
[[66,68,79], 0.5 , 58.5 ,[[17,2]],[0.05,0.1]],
[[65], 0.5 , 64.9412 ,[[41,4],[58,1],[70,11],[105,1]],[0.1,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.1,0.21]],
[[65,69], 0.5 , 60.4 ,[[36,1],[49,4]],[0.1,0.1,0.21,0.21,0.21]],
[[65,69,81], 0.5 , 72.5 ,[[58,2]],[0.08,0.21]],
[[65,69,79], 0.5 , 52 ,[[14,2]],[0.1,0.83]],
[[65,69,77,81,86], 0.5 , 55 ,[[87,1]],[0.1]],
[[65,68,72,75], 0.5 , 62.5 ,[[23,2]],[0.1,0.08]],
[[64], 0.5 , 66.7333 ,[[44,1],[64,3],[66,2],[74,3],[97,1],[147,1],[148,4]],[0.08,0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.1,0.1,0.21,0.1,0.1,0.1,0.21]],
[[64,89], 0.5 , 72 ,[[6,1]],[0.1]],
[[64,70,79], 0.5 , 58 ,[[17,2]],[0.1,0.1]],
[[64,67,69], 0.5 , 54 ,[[33,1]],[0.1]],
[[63], 0.5 , 68.25 ,[[70,3],[77,3],[92,1],[149,1]],[0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.1]],
[[63,71,79], 0.5 , 65 ,[[55,2]],[0.1,0.1]],
[[63,67,72,79], 0.5 , 55 ,[[17,4]],[0.05,0.1,0.1,0.1]],
[[62], 0.5 , 65.3846 ,[[74,4],[77,12],[89,3],[90,7]],[0.1,0.1,0.21,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.21,0.1,0.1,0.1,0.1,0.1]],
[[62,77], 0.5 , 63.625 ,[[59,4],[60,4]],[0.21,0.1,0.1,0.1,0.1,0.08,0.1,0.1]],
[[62,75], 0.5 , 60.75 ,[[60,4],[61,2],[101,2]],[0.21,0.1,0.21,0.21,0.1,0.21,0.1,0.1]],
[[62,74], 0.5 , 61.25 ,[[24,2],[27,2]],[0.1,0.08,0.1,0.1]],
[[62,69], 0.5 , 65.5 ,[[41,4]],[0.1,0.1,0.1,0.21]],
[[62,67,70,82], 0.5 , 45 ,[[13,1]],[0.1]],
[[62,66,72,74,84], 0.5 , 49 ,[[11,1]],[0.1]],
[[62,65,105], 0.5 , 71 ,[[31,1]],[0.1]],
[[62,65,69], 0.5 , 61 ,[[41,1]],[0.1]],
[[62,65,69,86], 0.5 , 103 ,[[9,1]],[0.1]],
[[62,65,69,86,89,93,98], 0.5 , 61 ,[[163,1]],[0.1]],
[[62,65,69,74,86], 0.5 , 59 ,[[107,1]],[0.1]],
[[61], 0.5 , 71.1667 ,[[77,3],[90,1],[93,2]],[0.1,0.1,0.21,0.1,0.1,0.1]],
[[61,63], 0.5 , 63.7 ,[[24,5],[77,5]],[0.1,0.21,0.21,0.1,0.1,0.1,0.1,0.1,0.1,0.1]],
[[61,63,74], 0.5 , 64.5 ,[[31,2]],[0.21,0.1]],
[[61,62], 0.5 , 57 ,[[70,1]],[0.1]],
[[60], 0.5 , 69.6 ,[[89,3],[98,2]],[0.1,0.21,0.1,0.1,0.1]],
[[60,64,74], 0.5 , 62 ,[[24,2]],[0.21,0.1]],
[[60,63,67,75], 0.5 , 66 ,[[23,2]],[0.1,0.1]],
[[60,63,67,72,79], 0.5 , 58 ,[[17,2]],[0.05,0.1]],
[[60,62], 0.5 , 56 ,[[64,1]],[0.1]],
[[59], 0.5 , 77.6 ,[[93,3],[102,2]],[0.05,0.1,0.1,0.1,0.21]],
[[59,65,74], 0.5 , 63 ,[[31,2]],[0.1,0.1]],
[[59,65,68,77], 0.5 , 55 ,[[23,2]],[0.1,0.1]],
[[59,62,67,74], 0.5 , 55 ,[[51,2]],[0.21,0.1]],
[[58], 0.5 , 73.4762 ,[[98,3],[107,6],[111,4],[117,2],[160,4],[165,2]],[0.05,0.05,0.1,0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.08,0.21,0.1,0.21,0.1,0.21,0.1,0.1,0.21,0.1,0.21]],
[[58,69], 0.5 , 74 ,[[49,2]],[0.1,0.1]],
[[58,66,74], 0.5 , 64 ,[[79,2]],[0.1,0.1]],
[[58,62], 0.5 , 56 ,[[51,1]],[0.1]],
[[58,62,77], 0.5 , 69 ,[[17,2]],[0.1,0.1]],
[[57], 0.5 , 70.7143 ,[[102,3],[118,4]],[0.05,0.05,0.1,0.1,0.21,0.1,0.21]],
[[57,81], 0.5 , 52.5 ,[[12,2]],[0.08,0.21]],
[[57,69], 0.5 , 67.25 ,[[41,2],[49,2],[102,4]],[0.1,0.1,0.1,0.1,0.21,0.1,0.1,0.1]],
[[57,69,77], 0.5 , 64.5 ,[[17,2]],[0.1,0.08]],
[[57,65], 0.5 , 74.25 ,[[118,4]],[0.1,0.1,0.21,0.21]],
[[57,62], 0.5 , 75.5 ,[[102,4]],[0.1,0.1,0.21,0.1]],
[[57,61,67,81], 0.5 , 73 ,[[14,2]],[0.1,0.21]],
[[57,61,67,69,93], 0.5 , 89 ,[[0,1]],[0.1]],
[[57,61,67,69,81], 0.5 , 85 ,[[12,1]],[0.1]],
[[57,60,62,74], 0.5 , 67 ,[[24,2]],[0.1,0.1]],
[[57,58], 0.5 , 81 ,[[118,2]],[0.1,0.1]],
[[56], 0.5 , 76 ,[[109,4],[112,4],[157,4],[164,4]],[0.05,0.1,0.1,0.1,0.1,0.1,0.21,0.21,0.21,0.1,0.1,0.21,0.1,0.21,0.08,0.21]],
[[55,62,82], 0.5 , 43 ,[[7,1]],[0.1]],
[[55,60,64,70], 0.5 , 57.5 ,[[37,4]],[0.1,0.1,0.1,0.1]],
[[55,60,63,72], 0.5 , 59.5 ,[[37,4]],[0.1,0.1,0.1,0.1]],
[[55,59,62,77], 0.5 , 54 ,[[17,2]],[0.21,0.1]],
[[55,58,74], 0.5 , 63.5 ,[[77,2]],[0.1,0.1]],
[[55,58,62,86], 0.5 , 60 ,[[9,4]],[0.05,0.05,0.1,0.1]],
[[55,58,62,82], 0.5 , 72 ,[[11,1]],[0.1]],
[[55,58,62,74], 0.5 , 60.7 ,[[31,10]],[0.1,0.21,0.21,0.21,0.21,0.1,0.1,0.1,0.1,0.1]],
[[55,58,62,70], 0.5 , 62 ,[[37,4]],[0.21,0.1,0.1,0.1]],
[[54,60,62,74], 0.5 , 61.5 ,[[24,2]],[0.21,0.1]],
[[53,65,69], 0.5 , 64.25 ,[[49,4]],[0.1,0.05,0.21,0.1]],
[[53,57,62,91], 0.5 , 51.5 ,[[4,2]],[0.1,0.1]],
[[53,57,62,86], 0.5 , 85 ,[[6,1]],[0.1]],
[[52,55,61,93], 0.5 , 76 ,[[0,1]],[0.1]],
[[52,55,60,82], 0.5 , 60.5 ,[[11,2]],[0.05,0.1]],
[[52,55,57,61,69], 0.5 , 68 ,[[37,2]],[0.21,0.1]],
[[51,55,60,84], 0.5 , 66 ,[[11,1]],[0.1]],
[[50,62,69], 0.5 , 60 ,[[41,4]],[0.1,0.05,0.1,0.21]],
[[50,55,59,65], 0.5 , 63 ,[[58,4]],[0.1,0.1,0.1,0.1]],
[[50,55,58,82], 0.5 , 82 ,[[11,1]],[0.1]],
[[50,55,58,70], 0.5 , 59.6667 ,[[24,2],[44,1]],[0.21,0.1,0.1]],
[[50,55,58,67], 0.5 , 62 ,[[58,4]],[0.1,0.21,0.1,0.21]],
[[50,54,60,86], 0.5 , 61 ,[[9,1]],[0.1]],
[[50,54,60,74], 0.5 , 55 ,[[31,2]],[0.1,0.21]],
[[50,54,57,72], 0.5 , 61 ,[[37,1]],[0.1]],
[[50,53,57,93], 0.5 , 67.4 ,[[2,4],[9,1]],[0.1,0.1,0.1,0.05,0.1]],
[[50,53,57,81], 0.5 , 48.5 ,[[14,2]],[0.21,0.08]],
[[50,53,57,74], 0.5 , 100 ,[[31,1]],[0.1]],
[[50,53,57,69], 0.5 , 62.7692 ,[[41,1],[49,12]],[0.1,0.1,0.1,0.1,0.08,0.1,0.1,0.08,0.1,0.1,0.1,0.1,0.1]],
[[50,53,57,65], 0.5 , 60.5 ,[[58,4]],[0.1,0.1,0.1,0.1]],
[[50,53,57,62], 0.5 , 57 ,[[74,1]],[0.1]],
[[49,52,55,57,81], 0.5 , 64.5 ,[[11,1],[12,1]],[0.08,0.1]],
[[49,52,55,57,69], 0.5 , 58 ,[[41,2]],[0.1,0.21]],
[[48,50,54,57,86], 0.5 , 91 ,[[7,1]],[0.1]],
[[47,50,55,89], 0.5 , 83.5 ,[[4,2]],[0.1,0.1]],
[[46,58,69], 0.5 , 56.5 ,[[49,2]],[0.05,0.1]],
[[46,50,55,86], 0.5 , 88 ,[[9,1]],[0.1]],
[[46,50,55,79], 0.5 , 60.5 ,[[17,2]],[0.1,0.05]],
[[45,57], 0.5 , 83.5 ,[[102,4]],[0.05,0.1,0.1,0.21]],
[[45,52,55,57,81], 0.5 , 70 ,[[14,1]],[0.1]],
[[45,50,53,77], 0.5 , 53 ,[[17,2]],[0.21,0.1]],
[[41,53,57], 0.5 , 77.25 ,[[118,4]],[0.1,0.1,0.1,0.1]],
[[38,50,81], 0.5 , 64.5 ,[[14,2]],[0.1,0.1]],
[[38,50,74,77,81], 0.5 , 55.5 ,[[14,2]],[0.1,0.08]],
[[38,50,57], 0.5 , 73.75 ,[[102,4]],[0.1,0.1,0.21,0.1]],
[[34,46,57], 0.5 , 81 ,[[118,2]],[0.1,0.21]]
];

	var node_index = 0;
	var bps = 60 / 60.0;  // Beats per second

	inf.do({

		var weight = 0;
		var random;
		var accumulator;
		var node = node_list[node_index];
		var temp=node[0];
		//var freq = node[0].midicps;
		//var dur = node[1] / bps;
		var dur = node[4][node[4].size.rand] / bps;
		var paths = node[3];
		var amp = node[2];

		// Get total statistical weight of connected nodes
		(0 .. paths.size - 1).do {|i| weight = weight + paths[i][1]};

		// Generate random value for choosing next node
		random = weight.rand;

		// Choose next node based on statistical weights
		accumulator = paths[0][1];

		node_index = block {|break|
			paths.size.do {|i|
				if ((random < accumulator), {
					break.value(paths[i][0])
					}, {
						accumulator = accumulator + paths[i + 1][1]
				})
			}
		};
m = MIDIOut(11);

		// Play
		//Synth(\my_synth, [\dur, dur, \amp, -3.dbamp, \freq, freq]);
		//Synth(\my_synth, [\dur, dur, \amp, amp/127.0, \freq, freq]);
		temp=node[0];
		//temp.postln;
		temp.size.do{|i| m.noteOn(16,temp[i] , amp);};
		temp.postln;
		//node[0].postln;
		//m.noteOn(16, node[0], amp-50);
		//m.noteOn(16, 13, amp-50);
		//dur.wait+0.1.rand-0.05;
		dur.wait+0.1.rand-0.05;
		//m.noteOff(16, 13, amp-50);
		temp.size.do{|i|m.noteOff(16,temp[i] , amp-50);};
	})
});

t.start;


);

////c
//node_list[2].postln;


//m = MIDIOut(3)
//
//

//m.allNotesOff(16);


